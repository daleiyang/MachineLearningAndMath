<!DOCTYPE html>
<!-- saved from url=(0054)http://www.hankcs.com/ml/conditional-random-field.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link rel="dns-prefetch" href="http://apps.bdimg.com/">
<meta http-equiv="X-UA-Compatible" content="IE=11,IE=10,IE=9,IE=8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<meta name="apple-mobile-web-app-title" content="码农场">
<meta http-equiv="Cache-Control" content="no-siteapp">
<title>条件随机场-码农场</title>
<link rel="dns-prefetch" href="http://apps.bdimg.com/">
<link rel="dns-prefetch" href="http://s.w.org/">
		<script async="" src="./conditional-random-field_files/analytics.js.下载"></script><script src="./conditional-random-field_files/ca-pub-1152644711996772.js.下载"></script><script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.hankcs.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.5"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./conditional-random-field_files/wp-emoji-release.min.js.下载" type="text/javascript" defer=""></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="_bootstrap-css" href="./conditional-random-field_files/bootstrap.min.css" type="text/css" media="all">
<link rel="stylesheet" id="_fontawesome-css" href="./conditional-random-field_files/font-awesome.min.css" type="text/css" media="all">
<link rel="stylesheet" id="_main-css" href="./conditional-random-field_files/main.css" type="text/css" media="all">
<script type="text/javascript" src="./conditional-random-field_files/jquery.min.js.下载"></script>
<link rel="https://api.w.org/" href="http://www.hankcs.com/wp-json/">
<link rel="prev" title="计算指数函数的和的对数" href="http://www.hankcs.com/ml/computing-log-sum-exp.html">
<link rel="next" title="CRF++代码分析" href="http://www.hankcs.com/ml/crf-code-analysis.html">
<link rel="canonical" href="http://www.hankcs.com/ml/conditional-random-field.html">
<link rel="shortlink" href="http://www.hankcs.com/?p=7786">
<link rel="alternate" type="application/json+oembed" href="http://www.hankcs.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.hankcs.com%2Fml%2Fconditional-random-field.html">
<link rel="alternate" type="text/xml+oembed" href="http://www.hankcs.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.hankcs.com%2Fml%2Fconditional-random-field.html&amp;format=xml">
<meta name="keywords" content="CRF, 《统计学习方法》, 维特比算法, 机器学习">
<meta name="description" content="本文是《统计学习方法》第11章的笔记，在课本的基础上加入了自己的注释和理解。作为CRF的入门读物，著名的几篇英文教程难度稍高，还是李航博士的《方法》比较适合初学者。其拟牛顿法讲解可以直接与CRF++的代码对应，实为难得。我还单独写了篇《CRF++代码分析》，与本文互为参考。 条件随机场（conditional random field，CRF)是给定一组输入">
<link rel="icon" href="http://www.hankcs.com/wp-content/uploads/2017/04/cropped-Hankcs_512-32x32.png" sizes="32x32">
<link rel="icon" href="http://www.hankcs.com/wp-content/uploads/2017/04/cropped-Hankcs_512-192x192.png" sizes="192x192">
<link rel="apple-touch-icon-precomposed" href="http://www.hankcs.com/wp-content/uploads/2017/04/cropped-Hankcs_512-180x180.png">
<meta name="msapplication-TileImage" content="http://www.hankcs.com/wp-content/uploads/2017/04/cropped-Hankcs_512-270x270.png">
<link rel="shortcut icon" href="http://www.hankcs.com/favicon.ico">
<!--[if lt IE 9]><script src="http://www.hankcs.com/wp-content/themes/dux/js/libs/html5.min.js"></script><![endif]-->
<!--
	generated 53860 seconds ago
	generated in 0.244 seconds
	served from batcache in 0.003 seconds
	expires in 32540 seconds
-->
<script async="" data-requirecontext="_" data-requiremodule="main" src="./conditional-random-field_files/main.js.下载"></script><script src="./conditional-random-field_files/share.js.下载"></script><script async="" data-requirecontext="_" data-requiremodule="lazyload" src="./conditional-random-field_files/lazyload.min.js.下载"></script><script async="" data-requirecontext="_" data-requiremodule="signpop" src="./conditional-random-field_files/signpop.js.下载"></script><script async="" data-requirecontext="_" data-requiremodule="comment" src="./conditional-random-field_files/comment.js.下载"></script><link href="./conditional-random-field_files/share.css" rel="styleSheet" type="text/css"><script type="text/javascript" charset="utf-8" src="./conditional-random-field_files/getnum"></script></head>
<body class="post-template-default single single-post postid-7786 single-format-standard comment-open site-layout-2">
<header class="header">
	<div class="container">
		<div class="logo"><a href="http://www.hankcs.com/" title="码农场-自然语言处理、机器学习算法"><img src="./conditional-random-field_files/logo.png">码农场</a></div>		<a href="http://www.hankcs.com/" title="码农场-自然语言处理、机器学习算法" class="brand">放牧代码和思想
<br>专注自然语言处理、机器学习算法</a>		<ul class="site-nav site-navbar">
			<li id="menu-item-1834" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1834"><a href="http://www.hankcs.com/program/cpp/">C++</a></li>
<li id="menu-item-1835" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1835"><a href="http://www.hankcs.com/program/java/">Java</a></li>
<li id="menu-item-5754" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-5754"><a href="http://www.hankcs.com/ml/">机器学习</a></li>
<li id="menu-item-2954" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2954"><a href="http://www.hankcs.com/nlp/">NLP</a>
<ul class="sub-menu">
	<li id="menu-item-4344" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4344"><a href="http://www.hankcs.com/nlp/corpus/">语料库</a></li>
	<li id="menu-item-4342" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4342"><a href="http://www.hankcs.com/nlp/segment/">中文分词</a></li>
	<li id="menu-item-4343" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4343"><a href="http://www.hankcs.com/nlp/ner/">命名实体识别</a></li>
	<li id="menu-item-4479" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4479"><a href="http://www.hankcs.com/nlp/parsing/">句法分析</a></li>
</ul>
</li>
<li id="menu-item-1837" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1837"><a href="http://www.hankcs.com/program/algorithm/">算法</a></li>
<li id="menu-item-1839" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1839"><a href="http://www.hankcs.com/software/">软件</a></li>
<li id="menu-item-1838" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1838"><a href="http://www.hankcs.com/nihongonote/">日语</a>
<ul class="sub-menu">
	<li id="menu-item-1860" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1860"><a href="http://www.hankcs.com/nihongonote/riyurimen/">日语入门</a></li>
	<li id="menu-item-1861" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1861"><a href="http://www.hankcs.com/nihongonote/listening/">日语听力</a></li>
	<li id="menu-item-1863" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1863"><a href="http://www.hankcs.com/nihongonote/tekusuto/">日语综合教程</a>
	<ul class="sub-menu">
		<li id="menu-item-2190" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2190"><a href="http://www.hankcs.com/nihongonote/tekusuto/disance/">第三册</a></li>
		<li id="menu-item-2192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2192"><a href="http://www.hankcs.com/nihongonote/tekusuto/daiyonnsatu/">第四册</a></li>
		<li id="menu-item-2191" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2191"><a href="http://www.hankcs.com/nihongonote/tekusuto/5/">第五册</a></li>
		<li id="menu-item-2702" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2702"><a href="http://www.hankcs.com/nihongonote/tekusuto/%e7%ac%ac%e5%85%ad%e5%86%8c/">第六册</a></li>
		<li id="menu-item-3604" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3604"><a href="http://www.hankcs.com/nihongonote/tekusuto/%e7%ac%ac%e4%b8%83%e5%86%8c/">第七册</a></li>
	</ul>
</li>
	<li id="menu-item-1859" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1859"><a href="http://www.hankcs.com/nihongonote/fd2/">新编日语阅读文选</a>
	<ul class="sub-menu">
		<li id="menu-item-2187" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2187"><a href="http://www.hankcs.com/nihongonote/fd2/c1/">第一册</a></li>
		<li id="menu-item-2189" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2189"><a href="http://www.hankcs.com/nihongonote/fd2/c2/">第二册</a></li>
		<li id="menu-item-2188" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2188"><a href="http://www.hankcs.com/nihongonote/fd2/c3/">第三册</a></li>
	</ul>
</li>
	<li id="menu-item-1858" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1858"><a href="http://www.hankcs.com/nihongonote/jpkaiwa/">日语商务贸易会话</a></li>
</ul>
</li>
<li id="menu-item-1843" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1843"><a href="http://www.hankcs.com/about/">关于</a></li>
							<li class="navto-search"><a href="javascript:;" class="search-show active"><i class="fa fa-search"></i></a></li>
					</ul>
		<div class="topbar">
			<ul class="site-nav topmenu">
				<li id="menu-item-5755" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5755"><a href="http://www.hankcs.com/about/#comments"><i class="fa fa-comment"></i> 留言板</a></li>
				<li><a target="_blank" rel="external nofollow" href="https://github.com/hankcs"><i class="fa fa-github-alt"></i> GitHub</a></li>                                <li><a target="_blank" rel="external nofollow" href="http://weibo.com/hankcs"><i class="fa fa-weibo"></i> 微博</a></li>                                <li><a target="_blank" rel="external nofollow" href="https://twitter.com/hankcs"><i class="fa fa-twitter"></i> Twitter</a></li>                                <li><a target="_blank" href="http://www.hankcs.com/feed"><i class="fa fa-rss"></i> RSS订阅</a></li>			</ul>
							&nbsp; &nbsp; <i class="fa fa-bullhorn url"></i> 博主不用扣扣，公事请博客留言，私事请微博私信。开源项目一律GitHub见，发错地方恕不回复，谢谢。					</div>
		<i class="fa fa-bars m-icon-nav"></i>
	</div>
</header>
<div class="site-search">
	<div class="container">
		<form method="get" class="site-search-form" action="http://www.hankcs.com/"><input class="search-input" name="s" type="text" placeholder="输入关键字" value=""><button class="search-btn" type="submit"><i class="fa fa-search"></i></button></form>	</div>
</div><section class="container">
	<div class="content-wrap">
	<div class="content">
				<header class="article-header">
			<h1 class="article-title"><a href="http://www.hankcs.com/ml/conditional-random-field.html">条件随机场</a></h1>
			<div class="article-meta">
				<span class="item">
					<a href="http://www.hankcs.com/">码农场</a> <small>&gt;</small> <a href="http://www.hankcs.com/ml/">机器学习</a><span class="muted"></span>				</span>
				<span class="item">2016-08-22</span>
																<span class="item post-views">阅读(2906)</span>				<span class="item"><a class="pc" href="http://www.hankcs.com/ml/conditional-random-field.html#respond">评论(0)</a></span>				<span class="item"></span>
			</div>
		</header>
		<article class="article-content">
			<div class="asb asb-post asb-post-01"><script async="" src="./conditional-random-field_files/adsbygoogle.js.下载"></script>
<!-- 文章页 - 页面标题下 728 90 -->
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-1152644711996772" data-ad-slot="5413029241" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;width:728px;height:90px;" src="./conditional-random-field_files/saved_resource.html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>			<div class="post_nav" style="width: 0px;"><div class="post_nav_side" style="height: 100%;"><div class="post_nav_top"><p>目录</p></div><div class="post_nav_bottom"></div><span class="post_nav_close icon-remove" title="关闭目录" style="opacity: 0; display: none;"><i class="fa fa-times"></i></span></div><ul class="post_nav_content"><li class="h2_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h2-0">概率无向图模型</a><i class="post_nav_dot"></i></li>
<li class="h3_nav active"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h3-1">模型定义</a><i class="post_nav_dot"></i></li>
<li class="h3_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h3-2">概率无向图模型的因子分解</a><i class="post_nav_dot"></i></li>
<li class="h2_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h2-3">条件随机场的定义与形式</a><i class="post_nav_dot"></i></li>
<li class="h3_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h3-4">条件随机场的定义</a><i class="post_nav_dot"></i></li>
<li class="h3_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h3-5">条件随机场的参数化形式</a><i class="post_nav_dot"></i></li>
<li class="h3_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h3-6">条件随机场的简化形式</a><i class="post_nav_dot"></i></li>
<li class="h3_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h3-7">条件随机场的矩阵形式</a><i class="post_nav_dot"></i></li>
<li class="h2_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h2-8">条件随机场的概率计算问题</a><i class="post_nav_dot"></i></li>
<li class="h3_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h3-9">前向-后向算法</a><i class="post_nav_dot"></i></li>
<li class="h3_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h3-10">概率计算</a><i class="post_nav_dot"></i></li>
<li class="h3_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h3-11">期望值的计算</a><i class="post_nav_dot"></i></li>
<li class="h2_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h2-12">条件随机场的学习算法</a><i class="post_nav_dot"></i></li>
<li class="h3_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h3-13">改进的迭代尺度法</a><i class="post_nav_dot"></i></li>
<li class="h3_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h3-14">拟牛顿法</a><i class="post_nav_dot"></i></li>
<li class="h2_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h2-15">条件随机场的预测算法</a><i class="post_nav_dot"></i></li>
<li class="h2_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h2-16">CRF实现</a><i class="post_nav_dot"></i></li>
<li class="h2_nav"><a href="http://www.hankcs.com/ml/conditional-random-field.html#h2-17">Reference</a><i class="post_nav_dot"></i></li>
</ul></div><p style="text-indent: 2em;"><span style="text-indent: 2em;">本文是<a href="http://www.hankcs.com/tag/%E3%80%8A%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95%E3%80%8B/" target="_blank" style="text-indent: 32px; white-space: normal;">《统计学习方法》</a><span style="text-indent: 32px;">第11章的笔记，在课本的基础上加入了自己的注释和理解。作为CRF的入门读物，著名的几篇英文教程难度稍高，还是李航博士的《方法》比较适合初学者。其拟牛顿法讲解可以直接与CRF++的代码对应，实为难得。我还单独写了篇<a href="http://www.hankcs.com/ml/crf-code-analysis.html" target="_blank">《CRF++代码分析》</a></span></span>，与本文互为参考。 <img src="./conditional-random-field_files/6cbb8645gw1f72e3o2j1fj21kw16zk1f.jpg" title="屏幕快照 2016-08-21 下午11.00.27.png" alt="屏幕快照 2016-08-21 下午11.00.27.png" width="0" height="0" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 0px; height: 0px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;"><span style="text-indent: 2em;">条件随机场（conditional random field，CRF)是给定一组输入随机变量条件下另一组输出随机变量的条件概率分布模型，其特点是假设输出随机变量构成马尔可夫随机场。条件随机场可以用于不同的预测问题，本章仅论及它在标注问题的应用。因此主要讲述线性链（linear chain)条件随机场，这时，问题变成了由输入序列对输出序列预测的判别模型，形式为对数线性模型，其学习方法通常是极大似然估计或正则化的极大似然估计。线性链条件随机场应用于标注问题是由Lafferty等人于2001年提出的。</span></p>
<p style="text-indent: 2em;">本章首先介绍概率无向图模型，然后叙述条件随机场的定义和各种表示方法，最后介绍条件随机场的3个基本问题：概率计算问题、学习问题和预测问题。</p>
<h2 id="h2-0">概率无向图模型</h2>
<p style="text-indent: 2em;">概率无向图模型（probabilistic undirected graphical model)，又称为马尔可夫随机场（Markov random field)，是一个可以由无向图表示的联合概率分布。本节首先叙述概率无向图模型的定义，然后介绍概率无向图模型的因子分解。</p>
<h3 id="h3-1">模型定义</h3>
<p style="text-indent: 2em;">先啰嗦一下图的定义：</p>
<p style="text-indent: 2em;">图（graph)是由结点（node)及连接结点的边（edge)组成的集合。结点和边分别记作v和e,结点和边的集合分别记作V和E，图记作G=(V,E)。无向图是指边没有方向的图。</p>
<p style="text-indent: 2em;">概率图模型（probabilistic graphical model)是由图表示的概率分布。设有联合概率分布<img src="./conditional-random-field_files/6cbb8645gw1f6mb78aza8j202q01k742.jpg" title="屏幕快照 2016-08-08 下午2.12.06.png" alt="屏幕快照 2016-08-08 下午2.12.06.png" width="39" height="22" border="0" vspace="0" style="width: 39px; height: 22px;" data-tag="bdshare">，<img src="./conditional-random-field_files/6cbb8645gw1f6mb7qn3flj203g01g3ya.jpg" title="屏幕快照 2016-08-08 下午2.12.50.png" alt="屏幕快照 2016-08-08 下午2.12.50.png" width="52" height="22" border="0" vspace="0" style="width: 52px; height: 22px;" data-tag="bdshare">是一组随机变量。由无向图<span style="text-indent: 32px;">G=(V,E)</span>表示概率分布。即在图G中，结点<img src="./conditional-random-field_files/6cbb8645gw1f6mba862uaj203601mq2p.jpg" title="屏幕快照 2016-08-08 下午2.15.12.png" alt="屏幕快照 2016-08-08 下午2.15.12.png" width="43" height="22" border="0" vspace="0" style="width: 43px; height: 22px;" data-tag="bdshare">表示一个随机变量<img src="./conditional-random-field_files/6cbb8645gw1f6mbarkxfjj201c01s0sh.jpg" title="屏幕快照 2016-08-08 下午2.15.27.png" alt="屏幕快照 2016-08-08 下午2.15.27.png" width="17" height="22" border="0" vspace="0" style="width: 17px; height: 22px;" data-tag="bdshare">，<img src="./conditional-random-field_files/6cbb8645gw1f6mbbf74r7j205u01wglf.jpg" title="屏幕快照 2016-08-08 下午2.16.03.png" alt="屏幕快照 2016-08-08 下午2.16.03.png" width="68" height="22" border="0" vspace="0" style="width: 68px; height: 22px;" data-tag="bdshare">；边<img src="./conditional-random-field_files/6cbb8645gw1f6mbc1p625j203201swe9.jpg" title="屏幕快照 2016-08-08 下午2.16.58.png" alt="屏幕快照 2016-08-08 下午2.16.58.png" width="38" height="22" border="0" vspace="0" style="width: 38px; height: 22px;" data-tag="bdshare">表示随机变量之间的概率依赖关系。</p>
<p style="text-indent: 2em;">给定一个联合概率分布<img src="./conditional-random-field_files/6cbb8645gw1f6mb78aza8j202q01k742.jpg" title="屏幕快照 2016-08-08 下午2.12.06.png" alt="屏幕快照 2016-08-08 下午2.12.06.png" width="39" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 39px; height: 22px;" data-tag="bdshare">和表示它的无向图G。首先定义无向图表示的随机变量之间存在的成对马尔可夫性（pairwise Markov property)、局部马尔可夫性（local Markov property)和全局马尔可夫性（global Markov property)。</p>
<p style="text-indent: 2em;"><strong>成对马尔可夫性</strong>：设u和v是无向图G中任意两个没有边连接的结点，结点u和v分别对应随机变量<img src="./conditional-random-field_files/6cbb8645gw1f6mbf4p4woj201e01s3y9.jpg" title="屏幕快照 2016-08-08 下午2.19.53.png" alt="屏幕快照 2016-08-08 下午2.19.53.png" width="17" height="22" border="0" vspace="0" style="width: 17px; height: 22px;" data-tag="bdshare">和<img src="./conditional-random-field_files/6cbb8645gw1f6mbarkxfjj201c01s0sh.jpg" title="屏幕快照 2016-08-08 下午2.15.27.png" alt="屏幕快照 2016-08-08 下午2.15.27.png" width="17" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 17px; height: 22px;" data-tag="bdshare">。其他所有结点为O（集合），对应的随机变量组是<img src="./conditional-random-field_files/6cbb8645gw1f6mbg471mhj201i01q741.jpg" title="屏幕快照 2016-08-08 下午2.20.49.png" alt="屏幕快照 2016-08-08 下午2.20.49.png" width="19" height="22" border="0" vspace="0" style="width: 19px; height: 22px;" data-tag="bdshare">。成对马尔可夫性是指给定随机变量组<img src="./conditional-random-field_files/6cbb8645gw1f6mbg471mhj201i01q741.jpg" title="屏幕快照 2016-08-08 下午2.20.49.png" alt="屏幕快照 2016-08-08 下午2.20.49.png" width="19" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 19px; height: 22px;" data-tag="bdshare">的条件下随机变量<img src="./conditional-random-field_files/6cbb8645gw1f6mbf4p4woj201e01s3y9.jpg" title="屏幕快照 2016-08-08 下午2.19.53.png" alt="屏幕快照 2016-08-08 下午2.19.53.png" width="17" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 17px; height: 22px;" data-tag="bdshare">和<img src="./conditional-random-field_files/6cbb8645gw1f6mbarkxfjj201c01s0sh.jpg" title="屏幕快照 2016-08-08 下午2.15.27.png" alt="屏幕快照 2016-08-08 下午2.15.27.png" width="17" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 17px; height: 22px;" data-tag="bdshare">是条件独立的，即</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mbiyg6l3j20hm01qaa3.jpg" title="屏幕快照 2016-08-08 下午2.23.32.png" alt="屏幕快照 2016-08-08 下午2.23.32.png" width="225" height="22" border="0" vspace="0" style="width: 225px; height: 22px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">其实这么定义有些啰嗦了，一句话，没有直连边的任意两个节点都是独立的。</p>
<p style="text-indent: 2em;"><strong>局部马尔可夫性</strong>：设<img src="./conditional-random-field_files/6cbb8645gw1f6mba862uaj203601mq2p.jpg" title="屏幕快照 2016-08-08 下午2.15.12.png" alt="屏幕快照 2016-08-08 下午2.15.12.png" width="43" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 43px; height: 22px;" data-tag="bdshare">是无向图G中任意一个结点，W是与v有边连接的所有结点，<span style="text-indent: 32px;">O</span>是v,W以外的其他所有结点。v表示的随机变量是<img src="./conditional-random-field_files/6cbb8645gw1f6mbarkxfjj201c01s0sh.jpg" title="屏幕快照 2016-08-08 下午2.15.27.png" alt="屏幕快照 2016-08-08 下午2.15.27.png" width="17" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 17px; height: 22px;" data-tag="bdshare">,W表示的随机变量组是<img src="./conditional-random-field_files/6cbb8645gw1f6mbltdedzj201m01oa9t.jpg" title="屏幕快照 2016-08-08 下午2.26.19.png" alt="屏幕快照 2016-08-08 下午2.26.19.png" width="21" height="22" border="0" vspace="0" style="width: 21px; height: 22px;" data-tag="bdshare">，O表示的随机变量组是<img src="./conditional-random-field_files/6cbb8645gw1f6mbg471mhj201i01q741.jpg" title="屏幕快照 2016-08-08 下午2.20.49.png" alt="屏幕快照 2016-08-08 下午2.20.49.png" width="19" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 19px; height: 22px;" data-tag="bdshare">。局部马尔可夫性是指在给定随机变量组<img src="./conditional-random-field_files/6cbb8645gw1f6mbltdedzj201m01oa9t.jpg" title="屏幕快照 2016-08-08 下午2.26.19.png" alt="屏幕快照 2016-08-08 下午2.26.19.png" width="21" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 21px; height: 22px;" data-tag="bdshare">的条件下随机变量<img src="./conditional-random-field_files/6cbb8645gw1f6mbarkxfjj201c01s0sh.jpg" title="屏幕快照 2016-08-08 下午2.15.27.png" alt="屏幕快照 2016-08-08 下午2.15.27.png" width="17" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 17px; height: 22px;" data-tag="bdshare">与随机变量组<img src="./conditional-random-field_files/6cbb8645gw1f6mbg471mhj201i01q741.jpg" title="屏幕快照 2016-08-08 下午2.20.49.png" alt="屏幕快照 2016-08-08 下午2.20.49.png" width="19" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 19px; height: 22px;" data-tag="bdshare">是独立的，即</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mbr53yjcj20ic02adfw.jpg" title="屏幕快照 2016-08-08 下午2.31.25.png" alt="屏幕快照 2016-08-08 下午2.31.25.png" width="225" height="28" border="0" vspace="0" style="width: 225px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">在<img src="./conditional-random-field_files/6cbb8645gw1f6mbrqhf7jj207801omx0.jpg" title="屏幕快照 2016-08-08 下午2.31.59.png" alt="屏幕快照 2016-08-08 下午2.31.59.png" width="95" height="22" border="0" vspace="0" style="width: 95px; height: 22px;" data-tag="bdshare">时，等价地，</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mbs35e3zj20dc024jrc.jpg" title="屏幕快照 2016-08-08 下午2.32.16.png" alt="屏幕快照 2016-08-08 下午2.32.16.png" width="177" height="28" border="0" vspace="0" style="width: 177px; height: 28px;" data-tag="bdshare"></p>
<p></p>
<p style="text-indent: 2em;">下图表示了局部马尔可夫性。</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mbteh9ssj20j80d2aae.jpg" title="屏幕快照 2016-08-08 下午2.33.35.png" alt="屏幕快照 2016-08-08 下午2.33.35.png" width="277" height="188" border="0" vspace="0" style="width: 277px; height: 188px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">我觉得局部马尔可夫性就是成对马尔可夫性的推论。</p>
<p style="text-indent: 2em;"><strong>全局马尔可夫性</strong>：设结点集合A，B是在无向图G中被结点集合C分开的任意结点集合，如图所示。结点集合A，B和C所对应的随机变量组分别是<img src="./conditional-random-field_files/6cbb8645gw1f6mbvixhxoj201o01w3y9.jpg" title="屏幕快照 2016-08-08 下午2.35.40.png" alt="屏幕快照 2016-08-08 下午2.35.40.png" width="19" height="22" border="0" vspace="0" style="width: 19px; height: 22px;" data-tag="bdshare">,<img src="./conditional-random-field_files/6cbb8645gw1f6mbvr1zbej201k01s3y9.jpg" title="屏幕快照 2016-08-08 下午2.35.54.png" alt="屏幕快照 2016-08-08 下午2.35.54.png" width="19" height="22" border="0" vspace="0" style="width: 19px; height: 22px;" data-tag="bdshare">和<img src="./conditional-random-field_files/6cbb8645gw1f6mbvyx5icj201i01o741.jpg" title="屏幕快照 2016-08-08 下午2.36.08.png" alt="屏幕快照 2016-08-08 下午2.36.08.png" width="20" height="22" border="0" vspace="0" style="width: 20px; height: 22px;" data-tag="bdshare">。全局马尔可夫性是指给定随机变量组条件下随机变量组<img src="./conditional-random-field_files/6cbb8645gw1f6mbvixhxoj201o01w3y9.jpg" title="屏幕快照 2016-08-08 下午2.35.40.png" alt="屏幕快照 2016-08-08 下午2.35.40.png" width="19" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 19px; height: 22px;" data-tag="bdshare">和<img src="./conditional-random-field_files/6cbb8645gw1f6mbvr1zbej201k01s3y9.jpg" title="屏幕快照 2016-08-08 下午2.35.54.png" alt="屏幕快照 2016-08-08 下午2.35.54.png" width="19" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 19px; height: 22px;" data-tag="bdshare">是条件独立的，即</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mbxn7jcdj20iy0fut9p.jpg" title="屏幕快照 2016-08-08 下午2.37.28.png" alt="屏幕快照 2016-08-08 下午2.37.28.png" width="240" height="200" border="0" vspace="0" style="width: 240px; height: 200px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">上述成对的、局部的、全局的马尔可夫性定义是等价的。</p>
<p style="text-indent: 2em;">下面定义概率无向图模型。</p>
<p style="text-indent: 2em;">定义(<strong>概率无向图模型</strong>）设有联合概率分布<img src="./conditional-random-field_files/6cbb8645gw1f6mb78aza8j202q01k742.jpg" title="屏幕快照 2016-08-08 下午2.12.06.png" alt="屏幕快照 2016-08-08 下午2.12.06.png" width="39" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 39px; height: 22px;" data-tag="bdshare">,由无向图<span style="text-indent: 32px;">G=(V,E)</span>表示，在图G中，结点表示随机变量，边表示随机变量之间的依赖关系。如果联合概率分布<img src="./conditional-random-field_files/6cbb8645gw1f6mb78aza8j202q01k742.jpg" title="屏幕快照 2016-08-08 下午2.12.06.png" alt="屏幕快照 2016-08-08 下午2.12.06.png" width="39" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 39px; height: 22px;" data-tag="bdshare">满足成对、局部或全局马尔可夫性，就称此联合概率分布为概率无向图模型(probability undirected graphical model)，或马尔可夫随机场(<span style="text-indent: 32px;">Markov</span> random field)。</p>
<p style="text-indent: 2em;">以上是概率无向图模型的定义，实际上，我们更关心的是如何求其联合概率分布。对给定的概率无向图模型，我们希望将整体的联合概率写成若干子联合概率的乘积的形式，也就是将联合概率进行因子分解，这样便于模型的学习与计算。事实上，概率无向图模型的最大特点就是易于因子分解。下面介绍这一结果。</p>
<h3 id="h3-2"><span style="text-indent: 2em;">概率无向图模型的因子分解</span></h3>
<p style="text-indent: 2em;">首先给出无向图中的团与最大团的定义。</p>
<p style="text-indent: 2em;">定义(团与最大团）无向图G中任何两个结点均有边连接的结点子集称为团（clique)。若C是无向图G的一个团，并且不能再加进任何一个G的结点使其成为一个更大的团，则称此C为最大团（maximal clique)。</p>
<p style="text-indent: 2em;">下图表示由4个结点组成的无向图。图中由2个结点组成的团有5个:{y1,y2},{y2,y3}，{y3,y4}和{y4,y2}，{y1,y3}。有2个最大团：{y1,y2,y3}和{y2,y3,y4}。而{y1,y2,y3,y4}不是一个团，因为y1和y4没有边连接。</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mc5mb88kj20cc08sq32.jpg" title="屏幕快照 2016-08-08 下午2.45.22.png" alt="屏幕快照 2016-08-08 下午2.45.22.png" width="180" height="128" border="0" vspace="0" style="width: 180px; height: 128px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">将概率无向图模型的联合概率分布表示为其最大团上的随机变量的函数的乘积形式的操作，称为概率无向图模型的因子分解（factorization)。</p>
<p style="text-indent: 2em;">给定概率无向图模型，设其无向图为G，C为G上的最大团，<img src="./conditional-random-field_files/6cbb8645gw1f6mbvyx5icj201i01o741.jpg" title="屏幕快照 2016-08-08 下午2.36.08.png" alt="屏幕快照 2016-08-08 下午2.36.08.png" width="20" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 20px; height: 22px;" data-tag="bdshare">表示C对应的随机变量。那么概率无向图模型的联合概率分布<img src="./conditional-random-field_files/6cbb8645gw1f6mb78aza8j202q01k742.jpg" title="屏幕快照 2016-08-08 下午2.12.06.png" alt="屏幕快照 2016-08-08 下午2.12.06.png" width="39" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 39px; height: 22px;" data-tag="bdshare">可写作图中所有最大团C上的函数<img src="./conditional-random-field_files/6cbb8645gw1f6mclgvp2ej203w01sdfn.jpg" title="屏幕快照 2016-08-08 下午3.00.36.png" alt="屏幕快照 2016-08-08 下午3.00.36.png" width="48" height="22" border="0" vspace="0" style="width: 48px; height: 22px;" data-tag="bdshare">的乘积形式，即</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mcl6d8tdj20ba03ejrc.jpg" title="屏幕快照 2016-08-08 下午3.00.10.png" alt="屏幕快照 2016-08-08 下午3.00.10.png" width="146" height="44" border="0" vspace="0" style="width: 146px; height: 44px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">其中，Z是规范化因子（normalization factor),由式</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mcq571urj209g02wglj.jpg" title="屏幕快照 2016-08-08 下午3.04.55.png" alt="屏幕快照 2016-08-08 下午3.04.55.png" width="124" height="38" border="0" vspace="0" style="width: 124px; height: 38px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">给出。规范化因子保证<img src="./conditional-random-field_files/6cbb8645gw1f6mb78aza8j202q01k742.jpg" title="屏幕快照 2016-08-08 下午2.12.06.png" alt="屏幕快照 2016-08-08 下午2.12.06.png" width="39" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 39px; height: 22px;" data-tag="bdshare">构成一个概率分布。<img src="./conditional-random-field_files/6cbb8645gw1f6mclgvp2ej203w01sdfn.jpg" title="屏幕快照 2016-08-08 下午3.00.36.png" alt="屏幕快照 2016-08-08 下午3.00.36.png" width="48" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 48px; height: 22px;" data-tag="bdshare">函数称为势函数(potential function)。这里要求势函数<img src="./conditional-random-field_files/6cbb8645gw1f6mclgvp2ej203w01sdfn.jpg" title="屏幕快照 2016-08-08 下午3.00.36.png" alt="屏幕快照 2016-08-08 下午3.00.36.png" width="48" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 48px; height: 22px;" data-tag="bdshare">是严格正的，通常定义为指数函数：</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mcu7k6czj20ca0223yg.jpg" title="屏幕快照 2016-08-08 下午3.08.54.png" alt="屏幕快照 2016-08-08 下午3.08.54.png" width="167" height="28" border="0" vspace="0" style="width: 167px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">概率无向图模型的因子分解由下述定理来保证。</p>
<p style="text-indent: 2em;">定理(<strong>Hammersley-Clifford定理</strong>）概率无向图模型的联合概率分布<span style="text-indent: 2em;">可以表示为如下形式：</span></p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mcl6d8tdj20ba03ejrc.jpg" title="屏幕快照 2016-08-08 下午3.00.10.png" alt="屏幕快照 2016-08-08 下午3.00.10.png" width="146" height="44" border="0" vspace="0" style="text-align: center; white-space: normal; width: 146px; height: 44px;" data-tag="bdshare"></p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mcq571urj209g02wglj.jpg" title="屏幕快照 2016-08-08 下午3.04.55.png" alt="屏幕快照 2016-08-08 下午3.04.55.png" width="124" height="38" border="0" vspace="0" style="text-align: center; white-space: normal; width: 124px; height: 38px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">其中，C是无向图的最大团，<img src="./conditional-random-field_files/6cbb8645gw1f6mbvyx5icj201i01o741.jpg" title="屏幕快照 2016-08-08 下午2.36.08.png" alt="屏幕快照 2016-08-08 下午2.36.08.png" width="20" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 20px; height: 22px;" data-tag="bdshare">是C的结点对应的随机变量，<img src="./conditional-random-field_files/6cbb8645gw1f6mclgvp2ej203w01sdfn.jpg" title="屏幕快照 2016-08-08 下午3.00.36.png" alt="屏幕快照 2016-08-08 下午3.00.36.png" width="48" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 48px; height: 22px;" data-tag="bdshare">是C上定义的严格正函数，乘积是在无向图所有的最大团上进行的。</p>
<h2 id="h2-3">条件随机场的定义与形式</h2>
<h3 id="h3-4">条件随机场的定义</h3>
<p style="text-indent: 2em;">条件随机场（conditional random field)是给定随机变量X条件下，随机变量Y的马尔可夫随机场。这里主要介绍定义在线性链上的特殊的条件随机场，称为线性链条件随机场（linear chain conditional random field)。线性链条件随机场可以用于标注等问题。这时，在条件概率模型<img src="./conditional-random-field_files/6cbb8645gw1f6md37l3f2j204s01owea.jpg" title="屏幕快照 2016-08-08 下午3.17.37.png" alt="屏幕快照 2016-08-08 下午3.17.37.png" width="63" height="22" border="0" vspace="0" style="width: 63px; height: 22px;" data-tag="bdshare">中，Y是输出变量，表示标记序列，X是输入变量，表示需要标注的观测序列。也把标记序列称为状态序列（参见隐马尔可夫模型)。学习时，利用训练数据集通过极大似然估计或正则化的极大似然估计得到条件概率模型<img src="./conditional-random-field_files/6cbb8645gw1f6md9fc14tj204u01udfn.jpg" title="屏幕快照 2016-08-08 下午3.23.39.png" alt="屏幕快照 2016-08-08 下午3.23.39.png" width="66" height="25" border="0" vspace="0" style="width: 66px; height: 25px;" data-tag="bdshare">；预测时，对于给定的输入序列x,求出条件概率<img src="./conditional-random-field_files/6cbb8645gw1f6mdacewvdj204001u743.jpg" title="屏幕快照 2016-08-08 下午3.24.30.png" alt="屏幕快照 2016-08-08 下午3.24.30.png" width="55" height="25" border="0" vspace="0" style="width: 55px; height: 25px;" data-tag="bdshare">最大的输出序列y。</p>
<p style="text-indent: 2em;">首先定义一般的条件随机场，然后定义线性链条件随机场。</p>
<p style="text-indent: 2em;">定义(<strong>条件随机场</strong>）设X与Y是随机变量，<img src="./conditional-random-field_files/6cbb8645gw1f6md37l3f2j204s01owea.jpg" title="屏幕快照 2016-08-08 下午3.17.37.png" alt="屏幕快照 2016-08-08 下午3.17.37.png" width="63" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 63px; height: 22px;" data-tag="bdshare">是在给定X的条件下Y的条件概率分布。若随机变量Y构成一个由无向图<img src="./conditional-random-field_files/6cbb8645gw1f6mdenmx04j205o01kjr7.jpg" title="屏幕快照 2016-08-08 下午3.28.37.png" alt="屏幕快照 2016-08-08 下午3.28.37.png" width="80" height="22" border="0" vspace="0" style="width: 80px; height: 22px;" data-tag="bdshare">表示的马尔可夫随机场，即</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mdggtsp1j20ky02idfw.jpg" title="屏幕快照 2016-08-08 下午3.29.54.png" alt="屏幕快照 2016-08-08 下午3.29.54.png" width="276" height="33" border="0" vspace="0" style="width: 276px; height: 33px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">对任意结点v成立，则称条件概率分布<img src="./conditional-random-field_files/6cbb8645gw1f6md37l3f2j204s01owea.jpg" title="屏幕快照 2016-08-08 下午3.17.37.png" alt="屏幕快照 2016-08-08 下午3.17.37.png" width="63" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 63px; height: 22px;" data-tag="bdshare">为条件随机场。式中w~v表示在图<img src="./conditional-random-field_files/6cbb8645gw1f6mdenmx04j205o01kjr7.jpg" title="屏幕快照 2016-08-08 下午3.28.37.png" alt="屏幕快照 2016-08-08 下午3.28.37.png" width="80" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 80px; height: 22px;" data-tag="bdshare">中与结点v有边连接的所有结点w,w≠v表示结点v以外的所有结点，<img src="./conditional-random-field_files/6cbb8645gw1f6mbarkxfjj201c01s0sh.jpg" title="屏幕快照 2016-08-08 下午2.15.27.png" alt="屏幕快照 2016-08-08 下午2.15.27.png" width="17" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 17px; height: 22px;" data-tag="bdshare">，<img src="./conditional-random-field_files/6cbb8645gw1f6mbf4p4woj201e01s3y9.jpg" title="屏幕快照 2016-08-08 下午2.19.53.png" alt="屏幕快照 2016-08-08 下午2.19.53.png" width="17" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 17px; height: 22px;" data-tag="bdshare">与<img src="./conditional-random-field_files/6cbb8645gw1f6mdkta0b2j201k01o3y9.jpg" title="屏幕快照 2016-08-08 下午3.34.27.png" alt="屏幕快照 2016-08-08 下午3.34.27.png" width="21" height="22" border="0" vspace="0" style="width: 21px; height: 22px;" data-tag="bdshare">为结点v，u与w对应的随机变量。从定义来看，左边到右边点的数量大大减小，<span style="text-indent: 32px;">w≠v的点有|V</span>|-1个，而<span style="text-indent: 32px;">w~v就少了。</span></p>
<p style="text-indent: 2em;">在定义中并没有要求X和Y具有相同的结构。现实中，一般假设X和Y有相同的图结构。本书主要考虑无向图为线性链的情况，即</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mdoj63vvj20sk01udfy.jpg" title="屏幕快照 2016-08-08 下午3.37.35.png" alt="屏幕快照 2016-08-08 下午3.37.35.png" width="343" height="22" border="0" vspace="0" style="width: 343px; height: 22px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">在此情况下，<img src="./conditional-random-field_files/6cbb8645gw1f6mdq9vhijj20ky01umx7.jpg" title="屏幕快照 2016-08-08 下午3.39.38.png" alt="屏幕快照 2016-08-08 下午3.39.38.png" width="263" height="23" border="0" vspace="0" style="width: 263px; height: 23px;" data-tag="bdshare">,最大团是相邻两个结点的集合。线性链条件随机场有下面的定义。</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mdxovd5ij20kk07wmxh.jpg" title="屏幕快照 2016-08-08 下午3.46.30.png" alt="屏幕快照 2016-08-08 下午3.46.30.png" width="261" height="100" border="0" vspace="0" style="width: 261px; height: 100px;" data-tag="bdshare"></p>
<p style="text-indent: 2em; text-align: center;">线性链条件随机场</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mdykecbpj20jm07gt8x.jpg" title="屏幕快照 2016-08-08 下午3.47.44.png" alt="屏幕快照 2016-08-08 下午3.47.44.png" width="292" height="111" border="0" vspace="0" style="width: 292px; height: 111px;" data-tag="bdshare"></p>
<p style="text-indent: 2em; text-align: center;">X和Y有相同的图结构的线性链条件随机场</p>
<p></p>
<p style="text-indent: 2em;">定义(<strong>线性链条件随机场)&nbsp;</strong>设<img src="./conditional-random-field_files/6cbb8645gw1f6mdq9vhijj20ky01umx7.jpg" title="屏幕快照 2016-08-08 下午3.39.38.png" alt="屏幕快照 2016-08-08 下午3.39.38.png" width="263" height="23" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 263px; height: 23px;" data-tag="bdshare">均为线性链表示的随机变量序列，若在给定随机变量序列尤的条件下，随机变量序列Y的条件概率分布<img src="./conditional-random-field_files/6cbb8645gw1f6md37l3f2j204s01owea.jpg" title="屏幕快照 2016-08-08 下午3.17.37.png" alt="屏幕快照 2016-08-08 下午3.17.37.png" width="63" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 63px; height: 22px;" data-tag="bdshare">构成条件随机场，即满足马尔可夫性</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6me21fvshj20pi04uq3g.jpg" title="屏幕快照 2016-08-08 下午3.51.04.png" alt="屏幕快照 2016-08-08 下午3.51.04.png" width="290" height="55" border="0" vspace="0" style="width: 290px; height: 55px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">则称<img src="./conditional-random-field_files/6cbb8645gw1f6md37l3f2j204s01owea.jpg" title="屏幕快照 2016-08-08 下午3.17.37.png" alt="屏幕快照 2016-08-08 下午3.17.37.png" width="63" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 63px; height: 22px;" data-tag="bdshare">为线性链条件随机场。在标注问题中，X表示输入观测序列，Y表示对应的输出标记序列或状态序列。</p>
<h3 id="h3-5"><span style="text-indent: 2em;">条件随机场的参数化形</span><span style="text-indent: 2em;">式</span></h3>
<p style="text-indent: 2em;">根据<span style="text-indent: 32px;">Hammersley-Clifford定理</span>,可以给出线性链条件随机场<img src="./conditional-random-field_files/6cbb8645gw1f6md37l3f2j204s01owea.jpg" title="屏幕快照 2016-08-08 下午3.17.37.png" alt="屏幕快照 2016-08-08 下午3.17.37.png" width="63" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 63px; height: 22px;" data-tag="bdshare">的因子分解式，各因子是定义在相邻两个结点上的函数。</p>
<p style="text-indent: 2em;">定理(<strong>线性链条件随机场的参数化形式</strong>）设<img src="./conditional-random-field_files/6cbb8645gw1f6md37l3f2j204s01owea.jpg" title="屏幕快照 2016-08-08 下午3.17.37.png" alt="屏幕快照 2016-08-08 下午3.17.37.png" width="63" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 63px; height: 22px;" data-tag="bdshare">为线性链条件随机场，则在随机变量X取值为x的条件下，随机变量Y取值为y的条件概率具有如下形式：</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6meyxk07pj20uc04cmxj.jpg" title="屏幕快照 2016-08-08 下午4.22.36.png" alt="屏幕快照 2016-08-08 下午4.22.36.png" width="385" height="55" border="0" vspace="0" style="width: 385px; height: 55px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">其中，</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mf09nvkej20se03ujrp.jpg" title="屏幕快照 2016-08-08 下午4.23.54.png" alt="屏幕快照 2016-08-08 下午4.23.54.png" width="355" height="48" border="0" vspace="0" style="width: 355px; height: 48px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">式中，<img src="./conditional-random-field_files/6cbb8645gw1f6mf2ty05nj201c01o0qi.jpg" title="屏幕快照 2016-08-08 下午4.26.31.png" alt="屏幕快照 2016-08-08 下午4.26.31.png" width="18" height="23" border="0" vspace="0" style="width: 18px; height: 23px;" data-tag="bdshare">和<img src="./conditional-random-field_files/6cbb8645gw1f6mf316n1mj201a01m0sc.jpg" title="屏幕快照 2016-08-08 下午4.26.44.png" alt="屏幕快照 2016-08-08 下午4.26.44.png" width="18" height="23" border="0" vspace="0" style="width: 18px; height: 23px;" data-tag="bdshare">是特征函数，<img src="./conditional-random-field_files/6cbb8645gw1f6mf3jh0l1j201m01y741.jpg" title="屏幕快照 2016-08-08 下午4.27.12.png" alt="屏幕快照 2016-08-08 下午4.27.12.png" width="18" height="22" border="0" vspace="0" style="width: 18px; height: 22px;" data-tag="bdshare">和<img src="./conditional-random-field_files/6cbb8645gw1f6mf3zt5l8j201g01q3y9.jpg" title="屏幕快照 2016-08-08 下午4.27.34.png" alt="屏幕快照 2016-08-08 下午4.27.34.png" width="18" height="22" border="0" vspace="0" style="width: 18px; height: 22px;" data-tag="bdshare">是对应的权值。<img src="./conditional-random-field_files/6cbb8645gw1f6mf4je2ipj203001sa9u.jpg" title="屏幕快照 2016-08-08 下午4.28.07.png" alt="屏幕快照 2016-08-08 下午4.28.07.png" width="37" height="22" border="0" vspace="0" style="width: 37px; height: 22px;" data-tag="bdshare">是规范化因子，求和是在所有可能的输出序列上进行的。<span class="Apple-tab-span" style="white-space:pre"></span>(<span style="text-indent: 2em;">这里面的特征函数有些抽象，并且也不知道为什么有两项而且要加起来，ikl分别是什么？这些问题都不用急，下文会讲解。)</span></p>
<p style="text-indent: 2em;">上面两个式子是线性链条件随机场模型的基本形式，表示给定输入序列x,对输出序列y预测的条件概率。其中<img src="./conditional-random-field_files/6cbb8645gw1f6mf2ty05nj201c01o0qi.jpg" title="屏幕快照 2016-08-08 下午4.26.31.png" alt="屏幕快照 2016-08-08 下午4.26.31.png" width="18" height="23" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 18px; height: 23px;" data-tag="bdshare">是定义在边上的特征函数，称为转移特征（t是transition的缩写，方便记忆），依赖于当前和前一个位置，<img src="./conditional-random-field_files/6cbb8645gw1f6mf316n1mj201a01m0sc.jpg" title="屏幕快照 2016-08-08 下午4.26.44.png" alt="屏幕快照 2016-08-08 下午4.26.44.png" width="18" height="23" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 18px; height: 23px;" data-tag="bdshare">是定义在结点上的特征函数，称为状态特征（s是status的缩写），依赖于当前位置（无论哪种特征函数，都将当前可能的y_i作为参数）。<img src="./conditional-random-field_files/6cbb8645gw1f6mf2ty05nj201c01o0qi.jpg" title="屏幕快照 2016-08-08 下午4.26.31.png" alt="屏幕快照 2016-08-08 下午4.26.31.png" width="18" height="23" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 18px; height: 23px;" data-tag="bdshare">和<img src="./conditional-random-field_files/6cbb8645gw1f6mf316n1mj201a01m0sc.jpg" title="屏幕快照 2016-08-08 下午4.26.44.png" alt="屏幕快照 2016-08-08 下午4.26.44.png" width="18" height="23" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 18px; height: 23px;" data-tag="bdshare">都依赖于位置，是局部特征函数。通常，特征函数<img src="./conditional-random-field_files/6cbb8645gw1f6mf2ty05nj201c01o0qi.jpg" title="屏幕快照 2016-08-08 下午4.26.31.png" alt="屏幕快照 2016-08-08 下午4.26.31.png" width="18" height="23" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 18px; height: 23px;" data-tag="bdshare">和<img src="./conditional-random-field_files/6cbb8645gw1f6mf316n1mj201a01m0sc.jpg" title="屏幕快照 2016-08-08 下午4.26.44.png" alt="屏幕快照 2016-08-08 下午4.26.44.png" width="18" height="23" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 18px; height: 23px;" data-tag="bdshare">取值为1或0;当满足特征条件时取值为1,否则为0。条件随机场完全由特征函数和对应的权值<img src="./conditional-random-field_files/6cbb8645gw1f6mf3jh0l1j201m01y741.jpg" title="屏幕快照 2016-08-08 下午4.27.12.png" alt="屏幕快照 2016-08-08 下午4.27.12.png" width="18" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 18px; height: 22px;" data-tag="bdshare">、<img src="./conditional-random-field_files/6cbb8645gw1f6mf3zt5l8j201g01q3y9.jpg" title="屏幕快照 2016-08-08 下午4.27.34.png" alt="屏幕快照 2016-08-08 下午4.27.34.png" width="18" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 18px; height: 22px;" data-tag="bdshare">确定。</p>
<p style="text-indent: 2em;">线性链条件随机场也是对数线性模型（loglinear model)。</p>
<h3 id="h3-6"><span style="text-indent: 2em;">条件随机场的简化形式</span></h3>
<p style="text-indent: 2em;">条件随机场还可以由简化形式表示。注意到条件随机场式中同一特征在各个位置都有定义，可以对同一个特征在各个位置求和，将局部特征函数转化为一个全局特征函数，这样就可以将条件随机场写成权值向量和特征向量的内积形式，即条件随机场的简化形式。</p>
<p style="text-indent: 2em;">为简便起见，首先将转移特征和状态特征及其权值用统一的符号表示。设有<img src="./conditional-random-field_files/6cbb8645gw1f6mfri4nacj201q01ua9t.jpg" title="屏幕快照 2016-08-08 下午4.50.10.png" alt="屏幕快照 2016-08-08 下午4.50.10.png" width="21" height="22" border="0" vspace="0" style="width: 21px; height: 22px;" data-tag="bdshare">个转移特征，<img src="./conditional-random-field_files/6cbb8645gw1f6mfrqrahjj201q01qa9t.jpg" title="屏幕快照 2016-08-08 下午4.50.26.png" alt="屏幕快照 2016-08-08 下午4.50.26.png" width="22" height="22" border="0" vspace="0" style="width: 22px; height: 22px;" data-tag="bdshare">个状态特征，<img src="./conditional-random-field_files/6cbb8645gw1f6mfsa2gbuj206o01qmwz.jpg" title="屏幕快照 2016-08-08 下午4.50.55.png" alt="屏幕快照 2016-08-08 下午4.50.55.png" width="85" height="22" border="0" vspace="0" style="width: 85px; height: 22px;" data-tag="bdshare">,记</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mfv3kvpkj20tc046wew.jpg" title="屏幕快照 2016-08-08 下午4.53.37.png" alt="屏幕快照 2016-08-08 下午4.53.37.png" width="388" height="55" border="0" vspace="0" style="width: 388px; height: 55px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">上式其实是对特征函数进行编码，编号的前<img src="./conditional-random-field_files/6cbb8645gw1f6mfri4nacj201q01ua9t.jpg" title="屏幕快照 2016-08-08 下午4.50.10.png" alt="屏幕快照 2016-08-08 下午4.50.10.png" width="21" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 21px; height: 22px;" data-tag="bdshare">个属于转移特征，后<img src="./conditional-random-field_files/6cbb8645gw1f6mfrqrahjj201q01qa9t.jpg" title="屏幕快照 2016-08-08 下午4.50.26.png" alt="屏幕快照 2016-08-08 下午4.50.26.png" width="22" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 22px; height: 22px;" data-tag="bdshare">个属于状态特征。编号统一了，后面就可以放到同一个矩阵里了。</p>
<p style="text-indent: 2em;">然后，对转移与状态特征在各个位置i求和，记作</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mfw5mynmj20mu034dfy.jpg" title="屏幕快照 2016-08-08 下午4.54.35.png" alt="屏幕快照 2016-08-08 下午4.54.35.png" width="279" height="38" border="0" vspace="0" style="width: 279px; height: 38px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">上式的特征函数虽然都写成接受4个参数的形式，但对状态特征函数而言，y_i-1是会被忽略掉的。</p>
<p style="text-indent: 2em;">用<img src="./conditional-random-field_files/6cbb8645gw1f6mfwwbtzrj201k01m3y9.jpg" title="屏幕快照 2016-08-08 下午4.55.23.png" alt="屏幕快照 2016-08-08 下午4.55.23.png" width="21" height="22" border="0" vspace="0" style="width: 21px; height: 22px;" data-tag="bdshare">表示特征<img src="./conditional-random-field_files/6cbb8645gw1f6mfxzbnumj204c01w3yb.jpg" title="屏幕快照 2016-08-08 下午4.56.24.png" alt="屏幕快照 2016-08-08 下午4.56.24.png" width="50" height="22" border="0" vspace="0" style="width: 50px; height: 22px;" data-tag="bdshare">的权值，即</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mfyksvwij20jk0483yn.jpg" title="屏幕快照 2016-08-08 下午4.56.58.png" alt="屏幕快照 2016-08-08 下午4.56.58.png" width="255" height="55" border="0" vspace="0" style="width: 255px; height: 55px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">于是，条件随机场可表示为</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mfztr0lej20ha07kdg9.jpg" title="屏幕快照 2016-08-08 下午4.58.10.png" alt="屏幕快照 2016-08-08 下午4.58.10.png" width="194" height="85" border="0" vspace="0" style="width: 194px; height: 85px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">若以w表示权值向量，即</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mg0rx6x8j20ay022wed.jpg" title="屏幕快照 2016-08-08 下午4.59.05.png" alt="屏幕快照 2016-08-08 下午4.59.05.png" width="133" height="25" border="0" vspace="0" style="text-align: center; white-space: normal; width: 133px; height: 25px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">以<img src="./conditional-random-field_files/6cbb8645gw1f6mg1qpykkj204201qzk2.jpg" title="屏幕快照 2016-08-08 下午4.59.56.png" alt="屏幕快照 2016-08-08 下午4.59.56.png" width="52" height="22" border="0" vspace="0" style="width: 52px; height: 22px;" data-tag="bdshare">表示全局特征向量，即</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mg2btyjqj20ky02adfx.jpg" title="屏幕快照 2016-08-08 下午5.00.31.png" alt="屏幕快照 2016-08-08 下午5.00.31.png" width="230" height="25" border="0" vspace="0" style="width: 230px; height: 25px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">则条件随机场可以写成向量w与<img src="./conditional-random-field_files/6cbb8645gw1f6mg1qpykkj204201qzk2.jpg" title="屏幕快照 2016-08-08 下午4.59.56.png" alt="屏幕快照 2016-08-08 下午4.59.56.png" width="52" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 52px; height: 22px;" data-tag="bdshare">的内积的形式:</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mg5y39l1j20f203s3yk.jpg" title="屏幕快照 2016-08-08 下午5.04.04.png" alt="屏幕快照 2016-08-08 下午5.04.04.png" width="172" height="43" border="0" vspace="0" style="width: 172px; height: 43px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">其中，</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mg6ripiyj20eg02y74a.jpg" title="屏幕快照 2016-08-08 下午5.04.50.png" alt="屏幕快照 2016-08-08 下午5.04.50.png" width="162" height="33" border="0" vspace="0" style="width: 162px; height: 33px;" data-tag="bdshare"></p>
<h3 id="h3-7">条件随机场的矩阵形式</h3>
<p style="text-indent: 2em;">条件随机场还可以由矩阵表示。假设<img src="./conditional-random-field_files/6cbb8645gw1f6mg8jkf2rj204o01udfn.jpg" title="屏幕快照 2016-08-08 下午5.06.36.png" alt="屏幕快照 2016-08-08 下午5.06.36.png" width="56" height="22" border="0" vspace="0" style="width: 56px; height: 22px;" data-tag="bdshare">是由内积形式给出的线性链条件随机场，表示对给定观测序列x，相应的标记序列y的条件概率。引进特殊的起点和终点状态标记<img src="./conditional-random-field_files/6cbb8645gw1f6mg9xd7lcj20bc01k746.jpg" title="屏幕快照 2016-08-08 下午5.07.46.png" alt="屏幕快照 2016-08-08 下午5.07.46.png" width="160" height="22" border="0" vspace="0" style="width: 160px; height: 22px;" data-tag="bdshare">,这时<img src="./conditional-random-field_files/6cbb8645gw1f6mg8jkf2rj204o01udfn.jpg" title="屏幕快照 2016-08-08 下午5.06.36.png" alt="屏幕快照 2016-08-08 下午5.06.36.png" width="56" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 56px; height: 22px;" data-tag="bdshare">可以通过矩阵形式表示。</p>
<p style="text-indent: 2em;">对观测序列x的每一个位置i=1,2,…，n+1，定义一个m阶矩阵（m是标记y_i取值的个数，因为x是给定的，i-1位置和i位置各有m种可能，所以是m阶的）</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mgb9io7fj20k60auaaq.jpg" title="屏幕快照 2016-08-08 下午5.09.02.png" alt="屏幕快照 2016-08-08 下午5.09.02.png" width="248" height="133" border="0" vspace="0" style="width: 248px; height: 133px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">这样，给定观测序列x,标记序列y的非规范化概率可以通过n+1个矩阵的乘积<img src="./conditional-random-field_files/6cbb8645gw1f6mgentgpwj20ak02ca9z.jpg" title="屏幕快照 2016-08-08 下午5.12.26.png" alt="屏幕快照 2016-08-08 下午5.12.26.png" width="122" height="27" border="0" vspace="0" style="width: 122px; height: 27px;" data-tag="bdshare">表示，于是，条件概率<img src="./conditional-random-field_files/6cbb8645gw1f6mg8jkf2rj204o01udfn.jpg" title="屏幕快照 2016-08-08 下午5.06.36.png" alt="屏幕快照 2016-08-08 下午5.06.36.png" width="56" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 56px; height: 22px;" data-tag="bdshare">是</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mgfkt2fsj20je03e74e.jpg" title="屏幕快照 2016-08-08 下午5.13.17.png" alt="屏幕快照 2016-08-08 下午5.13.17.png" width="252" height="44" border="0" vspace="0" style="width: 252px; height: 44px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">其中，<img src="./conditional-random-field_files/6cbb8645gw1f6mggio1yxj203i01ujr6.jpg" title="屏幕快照 2016-08-08 下午5.14.13.png" alt="屏幕快照 2016-08-08 下午5.14.13.png" width="42" height="22" border="0" vspace="0" style="width: 42px; height: 22px;" data-tag="bdshare">为规范化因子，是n+1个矩阵的乘积的(start,stop)元素：</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mgicoxsqj20ki02gjrh.jpg" title="屏幕快照 2016-08-08 下午5.15.48.png" alt="屏幕快照 2016-08-08 下午5.15.48.png" width="235" height="28" border="0" vspace="0" style="width: 235px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">注意，<img src="./conditional-random-field_files/6cbb8645gw1f6mgj05mjoj205a01m0sj.jpg" title="屏幕快照 2016-08-08 下午5.16.37.png" alt="屏幕快照 2016-08-08 下午5.16.37.png" width="72" height="22" border="0" vspace="0" style="width: 72px; height: 22px;" data-tag="bdshare">与<img src="./conditional-random-field_files/6cbb8645gw1f6mgj7r4foj205s01ka9v.jpg" title="屏幕快照 2016-08-08 下午5.16.52.png" alt="屏幕快照 2016-08-08 下午5.16.52.png" width="82" height="22" border="0" vspace="0" style="width: 82px; height: 22px;" data-tag="bdshare">表示开始状态与终止状态，规范化因子<img src="./conditional-random-field_files/6cbb8645gw1f6mggio1yxj203i01ujr6.jpg" title="屏幕快照 2016-08-08 下午5.14.13.png" alt="屏幕快照 2016-08-08 下午5.14.13.png" width="42" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 42px; height: 22px;" data-tag="bdshare">是以start为起点stop为终点通过状态的所有路径的非规范化概率<img src="./conditional-random-field_files/6cbb8645gw1f6mgk2x1dkj205c01q0sj.jpg" title="屏幕快照 2016-08-08 下午5.17.34.png" alt="屏幕快照 2016-08-08 下午5.17.34.png" width="68" height="22" border="0" vspace="0" style="width: 68px; height: 22px;" data-tag="bdshare">之和。</p>
<p style="text-indent: 2em;">这里的M矩阵像极了一阶HMM中的转移概率矩阵，因为链式CRF中只有相邻两个节点间才有连接边。</p>
<h2 id="h2-8"><span style="text-indent: 2em;">条件随机场的概率计算问题</span></h2>
<p style="text-indent: 2em;">条件随机场的概率计算问题是给定条件随机场<img src="./conditional-random-field_files/6cbb8645gw1f6mgm6wl6xj204q01q743.jpg" title="屏幕快照 2016-08-08 下午5.19.41.png" alt="屏幕快照 2016-08-08 下午5.19.41.png" width="60" height="22" border="0" vspace="0" style="width: 60px; height: 22px;" data-tag="bdshare">，输入序列x和输出序列y,计算条件概率<img src="./conditional-random-field_files/6cbb8645gw1f6mgmn31fsj20jm01ymx6.jpg" title="屏幕快照 2016-08-08 下午5.20.06.png" alt="屏幕快照 2016-08-08 下午5.20.06.png" width="222" height="22" border="0" vspace="0" style="width: 222px; height: 22px;" data-tag="bdshare">以及相应的数学期望的问题。为了方便起见，像隐马尔可夫模型那样，引进前向-后向向量，递归地计算以上概率及期望值。这样的算法称为前向-后向算法。</p>
<h3 id="h3-9">前向-后向算法</h3>
<p style="text-indent: 2em;">对每个指标<img src="./conditional-random-field_files/6cbb8645gw1f6mgni6fd1j207s01m0sk.jpg" title="屏幕快照 2016-08-08 下午5.20.58.png" alt="屏幕快照 2016-08-08 下午5.20.58.png" width="106" height="22" border="0" vspace="0" style="width: 106px; height: 22px;" data-tag="bdshare">，定义前向向量<img src="./conditional-random-field_files/6cbb8645gw1f6mgo26ajjj203001qdfm.jpg" title="屏幕快照 2016-08-08 下午5.21.21.png" alt="屏幕快照 2016-08-08 下午5.21.21.png" width="38" height="22" border="0" vspace="0" style="width: 38px; height: 22px;" data-tag="bdshare">：</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mlluel6yj20eo03sweh.jpg" title="屏幕快照 2016-08-08 下午8.12.09.png" alt="屏幕快照 2016-08-08 下午8.12.09.png" width="214" height="55" border="0" vspace="0" style="width: 214px; height: 55px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">递推公式为</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mgqm9g42j20te024aa8.jpg" title="屏幕快照 2016-08-08 下午5.23.55.png" alt="屏幕快照 2016-08-08 下午5.23.55.png" width="389" height="28" border="0" vspace="0" style="width: 389px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">又可表示为</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mgrhjuzyj20be01w0so.jpg" title="屏幕快照 2016-08-08 下午5.24.45.png" alt="屏幕快照 2016-08-08 下午5.24.45.png" width="151" height="25" border="0" vspace="0" style="width: 151px; height: 25px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;"><img src="./conditional-random-field_files/6cbb8645gw1f6mgsd0regj204y01i743.jpg" title="屏幕快照 2016-08-08 下午5.25.36.png" alt="屏幕快照 2016-08-08 下午5.25.36.png" width="73" height="22" border="0" vspace="0" style="width: 73px; height: 22px;" data-tag="bdshare">表示在位置i的标记是y_i并且到位置i的前部分标记序列的非规范化概率，y_i可取的值有m个，所以<img src="./conditional-random-field_files/6cbb8645gw1f6mgsd0regj204y01i743.jpg" title="屏幕快照 2016-08-08 下午5.25.36.png" alt="屏幕快照 2016-08-08 下午5.25.36.png" width="73" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 73px; height: 22px;" data-tag="bdshare">是m维列向量。</p>
<p style="text-indent: 2em;">同样，对每个指标<img src="./conditional-random-field_files/6cbb8645gw1f6mgubpcoxj207w01m0sk.jpg" title="屏幕快照 2016-08-08 下午5.27.33.png" alt="屏幕快照 2016-08-08 下午5.27.33.png" width="108" height="22" border="0" vspace="0" style="width: 108px; height: 22px;" data-tag="bdshare">，定义后向向量<img src="./conditional-random-field_files/6cbb8645gw1f6mguoxrgrj202y01wdfm.jpg" title="屏幕快照 2016-08-08 下午5.27.54.png" alt="屏幕快照 2016-08-08 下午5.27.54.png" width="34" height="22" border="0" vspace="0" style="width: 34px; height: 22px;" data-tag="bdshare">:</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6ml33tzkxj20jk07kjrs.jpg" title="屏幕快照 2016-08-08 下午7.54.18.png" alt="屏幕快照 2016-08-08 下午7.54.18.png" width="227" height="88" border="0" vspace="0" style="width: 227px; height: 88px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">又可以表示为：</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6ml4j0p8qj20bu02aaa0.jpg" title="屏幕快照 2016-08-08 下午7.55.45.png" alt="屏幕快照 2016-08-08 下午7.55.45.png" width="140" height="27" border="0" vspace="0" style="width: 140px; height: 27px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;"><img src="./conditional-random-field_files/6cbb8645gw1f6ml70scvhj205401wglf.jpg" title="屏幕快照 2016-08-08 下午7.58.03.png" alt="屏幕快照 2016-08-08 下午7.58.03.png" width="60" height="22" border="0" vspace="0" style="width: 60px; height: 22px;" data-tag="bdshare">表示在位置i的标记为<img src="./conditional-random-field_files/6cbb8645gw1f6ml7m69tsj201g01o3y9.jpg" title="屏幕快照 2016-08-08 下午7.58.41.png" alt="屏幕快照 2016-08-08 下午7.58.41.png" width="19" height="22" border="0" vspace="0" style="width: 19px; height: 22px;" data-tag="bdshare">,并且从i+1到n的后部分标记序列的非规范化<span style="text-indent: 2em;">概率。</span></p>
<p style="text-indent: 2em;">由前向-后向向量定义不难得到：</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mla44bysj20eg020749.jpg" title="屏幕快照 2016-08-08 下午8.01.04.png" alt="屏幕快照 2016-08-08 下午8.01.04.png" width="159" height="22" border="0" vspace="0" style="width: 159px; height: 22px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">这里，<img src="./conditional-random-field_files/6cbb8645gw1f6mlb3ktemj201801k0mf.jpg" title="屏幕快照 2016-08-08 下午8.02.03.png" alt="屏幕快照 2016-08-08 下午8.02.03.png" width="17" height="22" border="0" vspace="0" style="width: 17px; height: 22px;" data-tag="bdshare">是元素均为1的m维列向量。</p>
<h3 id="h3-10">概率计算</h3>
<p style="text-indent: 2em;">按照前向-后向向量的定义，很容易计算标记序列在位置i是标记<img src="./conditional-random-field_files/6cbb8645gw1f6ml7m69tsj201g01o3y9.jpg" title="屏幕快照 2016-08-08 下午7.58.41.png" alt="屏幕快照 2016-08-08 下午7.58.41.png" width="19" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 19px; height: 22px;" data-tag="bdshare">的条件概率和在位置i-1与i是标记<img src="./conditional-random-field_files/6cbb8645gw1f6mlcfpuf6j201y01g741.jpg" title="屏幕快照 2016-08-08 下午8.03.19.png" alt="屏幕快照 2016-08-08 下午8.03.19.png" width="22" height="22" border="0" vspace="0" style="width: 22px; height: 22px;" data-tag="bdshare">和<img src="./conditional-random-field_files/6cbb8645gw1f6ml7m69tsj201g01o3y9.jpg" title="屏幕快照 2016-08-08 下午7.58.41.png" alt="屏幕快照 2016-08-08 下午7.58.41.png" width="19" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 19px; height: 22px;" data-tag="bdshare">的条件概率：</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mlfc7gisj20x009ot9k.jpg" title="屏幕快照 2016-08-08 下午8.05.57.png" alt="屏幕快照 2016-08-08 下午8.05.57.png" width="375" height="110" border="0" vspace="0" style="width: 375px; height: 110px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">其中，</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mlgufc35j208s02cq2t.jpg" title="屏幕快照 2016-08-08 下午8.06.52.png" alt="屏幕快照 2016-08-08 下午8.06.52.png" width="106" height="28" border="0" vspace="0" style="width: 106px; height: 28px;" data-tag="bdshare"></p>
<h3 id="h3-11">期望值的计算</h3>
<p style="text-indent: 2em;">利用前向-后向向量，可以计算特征函数关于联合分布<img src="./conditional-random-field_files/6cbb8645gw1f6mlo3ewwej204e01u3yb.jpg" title="屏幕快照 2016-08-08 下午8.14.29.png" alt="屏幕快照 2016-08-08 下午8.14.29.png" width="53" height="22" border="0" vspace="0" style="width: 53px; height: 22px;" data-tag="bdshare">和条件分布<img src="./conditional-random-field_files/6cbb8645gw1f6mlodcpe0j204i01q3yb.jpg" title="屏幕快照 2016-08-08 下午8.14.46.png" alt="屏幕快照 2016-08-08 下午8.14.46.png" width="57" height="22" border="0" vspace="0" style="width: 57px; height: 22px;" data-tag="bdshare">的数学期望。</p>
<p style="text-indent: 2em;">特征函数<img src="./conditional-random-field_files/6cbb8645gw1f6mlp2y6x7j201g01o741.jpg" title="屏幕快照 2016-08-08 下午8.15.17.png" alt="屏幕快照 2016-08-08 下午8.15.17.png" width="19" height="22" border="0" vspace="0" style="width: 19px; height: 22px;" data-tag="bdshare">关于条件分布<img src="./conditional-random-field_files/6cbb8645gw1f6mlodcpe0j204i01q3yb.jpg" title="屏幕快照 2016-08-08 下午8.14.46.png" alt="屏幕快照 2016-08-08 下午8.14.46.png" width="57" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 57px; height: 22px;" data-tag="bdshare">的数学期望是</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mlqmtox0j20zq08ewfe.jpg" title="屏幕快照 2016-08-08 下午8.16.43.png" alt="屏幕快照 2016-08-08 下午8.16.43.png" width="426" height="100" border="0" vspace="0" style="width: 426px; height: 100px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">其中，</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mlgufc35j208s02cq2t.jpg" title="屏幕快照 2016-08-08 下午8.06.52.png" alt="屏幕快照 2016-08-08 下午8.06.52.png" width="106" height="28" border="0" vspace="0" style="text-align: center; white-space: normal; width: 106px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">假设经验分布为<img src="./conditional-random-field_files/6cbb8645gw1f6mls3ma1bj203a020gle.jpg" title="屏幕快照 2016-08-08 下午8.18.15.png" alt="屏幕快照 2016-08-08 下午8.18.15.png" width="36" height="22" border="0" vspace="0" style="width: 36px; height: 22px;" data-tag="bdshare">，特征函数<img src="./conditional-random-field_files/6cbb8645gw1f6mlp2y6x7j201g01o741.jpg" title="屏幕快照 2016-08-08 下午8.15.17.png" alt="屏幕快照 2016-08-08 下午8.15.17.png" width="19" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 19px; height: 22px;" data-tag="bdshare">关于联合分布<img src="./conditional-random-field_files/6cbb8645gw1f6mlo3ewwej204e01u3yb.jpg" title="屏幕快照 2016-08-08 下午8.14.29.png" alt="屏幕快照 2016-08-08 下午8.14.29.png" width="53" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 53px; height: 22px;" data-tag="bdshare">的数学期望是</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mlx90ehaj213m0cign9.jpg" title="屏幕快照 2016-08-08 下午8.23.05.png" alt="屏幕快照 2016-08-08 下午8.23.05.png" width="491" height="155" border="0" vspace="0" style="width: 491px; height: 155px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">其中，</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mlgufc35j208s02cq2t.jpg" title="屏幕快照 2016-08-08 下午8.06.52.png" alt="屏幕快照 2016-08-08 下午8.06.52.png" width="106" height="28" border="0" vspace="0" style="text-align: center; white-space: normal; width: 106px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">这个式子是特征函数数学期望的一般计算公式。对于转移特征<img src="./conditional-random-field_files/6cbb8645gw1f6mlyvdgobj20fu01kglk.jpg" title="屏幕快照 2016-08-08 下午8.24.40.png" alt="屏幕快照 2016-08-08 下午8.24.40.png" width="224" height="22" border="0" vspace="0" style="width: 224px; height: 22px;" data-tag="bdshare">，可以将式中的<img src="./conditional-random-field_files/6cbb8645gw1f6mlp2y6x7j201g01o741.jpg" title="屏幕快照 2016-08-08 下午8.15.17.png" alt="屏幕快照 2016-08-08 下午8.15.17.png" width="19" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 19px; height: 22px;" data-tag="bdshare">换成<img src="./conditional-random-field_files/6cbb8645gw1f6mlzc7g8ej201a01i0q6.jpg" title="屏幕快照 2016-08-08 下午8.25.19.png" alt="屏幕快照 2016-08-08 下午8.25.19.png" width="19" height="22" border="0" vspace="0" style="width: 19px; height: 22px;" data-tag="bdshare">;对于状态特征，可以将式中的<img src="./conditional-random-field_files/6cbb8645gw1f6mlp2y6x7j201g01o741.jpg" title="屏幕快照 2016-08-08 下午8.15.17.png" alt="屏幕快照 2016-08-08 下午8.15.17.png" width="19" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 19px; height: 22px;" data-tag="bdshare">换成<img src="./conditional-random-field_files/6cbb8645gw1f6mm00vh72j201401s0of.jpg" title="屏幕快照 2016-08-08 下午8.26.00.png" alt="屏幕快照 2016-08-08 下午8.26.00.png" width="18" height="28" border="0" vspace="0" style="width: 18px; height: 28px;" data-tag="bdshare">,表示为<img src="./conditional-random-field_files/6cbb8645gw1f6mm0kx22gj20ju01wweh.jpg" title="屏幕快照 2016-08-08 下午8.26.14.png" alt="屏幕快照 2016-08-08 下午8.26.14.png" width="231" height="22" border="0" vspace="0" style="width: 231px; height: 22px;" data-tag="bdshare">。</p>
<p style="text-indent: 2em;">有了这些式子，对于给定的观测序列x与标记序列y，可以通过一次前向扫描计算<img src="./conditional-random-field_files/6cbb8645gw1f6mm2ndt4kj201g01k3y9.jpg" title="屏幕快照 2016-08-08 下午8.28.29.png" alt="屏幕快照 2016-08-08 下午8.28.29.png" width="20" height="22" border="0" vspace="0" style="width: 20px; height: 22px;" data-tag="bdshare">及<img src="./conditional-random-field_files/6cbb8645gw1f6mm2umbumj202o01o742.jpg" title="屏幕快照 2016-08-08 下午8.28.43.png" alt="屏幕快照 2016-08-08 下午8.28.43.png" width="35" height="22" border="0" vspace="0" style="width: 35px; height: 22px;" data-tag="bdshare">,通过一次后向扫描计算<img src="./conditional-random-field_files/6cbb8645gw1f6mm3dz2h3j201c01q741.jpg" title="屏幕快照 2016-08-08 下午8.29.11.png" alt="屏幕快照 2016-08-08 下午8.29.11.png" width="17" height="22" border="0" vspace="0" style="width: 17px; height: 22px;" data-tag="bdshare">，从而计算所有的概率和特征的期望。</p>
<h2 id="h2-12">条件随机场的学习算法</h2>
<p style="text-indent: 2em;">本节讨论给定训练数据集估计条件随机场模型参数的问题，即条件随机场的学习问题。条件随机场模型实际上是定义在时序数据上的对数线形模型，其学习<span style="text-indent: 2em;">方法包括极大似然估计和正则化的极大似然估计。具体的优化实现算法有改进的迭代尺度法IIS、梯度下降法以及拟牛顿法。（其中，主流的CRF软件之CRF++采用了拟牛顿法+L-BFGS优化，所以着重看这种训练方法即可。）</span></p>
<h3 id="h3-13">改进的迭代尺度法</h3>
<p style="text-indent: 2em;">已知训练数据集，由此可知经验概率分布<img src="./conditional-random-field_files/6cbb8645gw1f6mm8ebq9hj204g01w743.jpg" title="屏幕快照 2016-08-08 下午8.33.55.png" alt="屏幕快照 2016-08-08 下午8.33.55.png" width="52" height="22" border="0" vspace="0" style="width: 52px; height: 22px;" data-tag="bdshare">可以通过极大化训练数据的对数似然函数来求模型参数。</p>
<p style="text-indent: 2em;">训练数据的对数似然函数为</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mm8yru0qj20vy032t92.jpg" title="屏幕快照 2016-08-08 下午8.34.28.png" alt="屏幕快照 2016-08-08 下午8.34.28.png" width="376" height="36" border="0" vspace="0" style="width: 376px; height: 36px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">当是一个由<img src="./conditional-random-field_files/6cbb8645gw1f6mg5y39l1j20f203s3yk.jpg" title="屏幕快照 2016-08-08 下午5.04.04.png" alt="屏幕快照 2016-08-08 下午5.04.04.png" width="172" height="43" border="0" vspace="0" style="text-align: center; width: 172px; height: 43px;" data-tag="bdshare"><span style="text-align: center;">和</span><img src="./conditional-random-field_files/6cbb8645gw1f6mg6ripiyj20eg02y74a.jpg" title="屏幕快照 2016-08-08 下午5.04.50.png" alt="屏幕快照 2016-08-08 下午5.04.50.png" width="162" height="33" border="0" vspace="0" style="text-align: center; text-indent: 2em; width: 162px; height: 33px;" data-tag="bdshare"><span style="text-indent: 2em;">给出的条件随机场模型时，对数似然函数为</span></p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6mmbtcfj6j20rk0aomy8.jpg" title="屏幕快照 2016-08-08 下午8.37.10.png" alt="屏幕快照 2016-08-08 下午8.37.10.png" width="315" height="122" border="0" vspace="0" style="width: 315px; height: 122px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">改进的迭代尺度法通过迭代的方法不断优化对数似然函数改变量的下界，达到极大化对数似然函数的目的。假设模型的当前参数向量<img src="./conditional-random-field_files/6cbb8645gw1f6n8zxar2yj20ae020t8l.jpg" title="屏幕快照 2016-08-09 上午9.41.33.png" alt="屏幕快照 2016-08-09 上午9.41.33.png" width="145" height="28" border="0" vspace="0" style="width: 145px; height: 28px;" data-tag="bdshare">,向量的增量为<img src="./conditional-random-field_files/6cbb8645gw1f6n90e6xqej20a801qdfq.jpg" title="屏幕快照 2016-08-09 上午9.42.05.png" alt="屏幕快照 2016-08-09 上午9.42.05.png" width="131" height="22" border="0" vspace="0" style="width: 131px; height: 22px;" data-tag="bdshare">,更新参数向量为<img src="./conditional-random-field_files/6cbb8645gw1f6n91jke8vj20eq01w0so.jpg" title="屏幕快照 2016-08-09 上午9.42.57.png" alt="屏幕快照 2016-08-09 上午9.42.57.png" width="171" height="22" border="0" vspace="0" style="width: 171px; height: 22px;" data-tag="bdshare"><img src="./conditional-random-field_files/6cbb8645gw1f6n91lu1yzj205k01sdfn.jpg" title="屏幕快照 2016-08-09 上午9.43.06.png" alt="屏幕快照 2016-08-09 上午9.43.06.png" width="69" height="22" border="0" vspace="0" style="width: 69px; height: 22px;" data-tag="bdshare">。在每步迭代过程中，改进的迭代尺度法通过依次求解下面两个式子,得到<img src="./conditional-random-field_files/6cbb8645gw1f6n90e6xqej20a801qdfq.jpg" title="屏幕快照 2016-08-09 上午9.42.05.png" alt="屏幕快照 2016-08-09 上午9.42.05.png" width="131" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 131px; height: 22px;" data-tag="bdshare">，推导可参考<a href="http://www.hankcs.com/ml/the-logistic-regression-and-the-maximum-entropy-model.html#h3-16" target="_blank">《改进的迭代尺度法》</a>。</p>
<p style="text-indent: 2em;">关于转移特征<img src="./conditional-random-field_files/6cbb8645gw1f6n9e5gqoyj201601m0qo.jpg" title="屏幕快照 2016-08-09 上午9.55.22.png" alt="屏幕快照 2016-08-09 上午9.55.22.png" width="16" height="22" border="0" vspace="0" style="width: 16px; height: 22px;" data-tag="bdshare">的更新方程为</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6n9erx1qwj20tq08ujs8.jpg" title="屏幕快照 2016-08-09 上午9.55.55.png" alt="屏幕快照 2016-08-09 上午9.55.55.png" width="374" height="111" border="0" vspace="0" style="width: 374px; height: 111px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">关于状态特征<img src="./conditional-random-field_files/6cbb8645gw1f6mf316n1mj201a01m0sc.jpg" title="屏幕快照 2016-08-08 下午4.26.44.png" alt="屏幕快照 2016-08-08 下午4.26.44.png" width="18" height="23" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 18px; height: 23px;" data-tag="bdshare">的更新方程为</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6n9jeye8wj20re0900ti.jpg" title="屏幕快照 2016-08-09 上午10.00.18.png" alt="屏幕快照 2016-08-09 上午10.00.18.png" width="339" height="111" border="0" vspace="0" style="width: 339px; height: 111px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">这里，<img src="./conditional-random-field_files/6cbb8645gw1f6n9kiwem3j204201uq2q.jpg" title="屏幕快照 2016-08-09 上午10.01.28.png" alt="屏幕快照 2016-08-09 上午10.01.28.png" width="49" height="22" border="0" vspace="0" style="width: 49px; height: 22px;" data-tag="bdshare">是在数据<img src="./conditional-random-field_files/6cbb8645gw1f6n9l09diuj203401m742.jpg" title="屏幕快照 2016-08-09 上午10.01.56.png" alt="屏幕快照 2016-08-09 上午10.01.56.png" width="42" height="22" border="0" vspace="0" style="width: 42px; height: 22px;" data-tag="bdshare">中出现所有特征数的总和:</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6n9lhllb3j20mu03ejrl.jpg" title="屏幕快照 2016-08-09 上午10.02.22.png" alt="屏幕快照 2016-08-09 上午10.02.22.png" width="296" height="44" border="0" vspace="0" style="width: 296px; height: 44px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">算法(<strong>条件随机场模型学习的改进的迭代尺度法</strong>）</p>
<p style="text-indent: 2em;">输入：特征函数<img src="./conditional-random-field_files/6cbb8645gw1f6n9oxitflj20de020q2u.jpg" title="屏幕快照 2016-08-09 上午10.05.38.png" alt="屏幕快照 2016-08-09 上午10.05.38.png" width="147" height="22" border="0" vspace="0" style="width: 147px; height: 22px;" data-tag="bdshare">;经验分布<img src="./conditional-random-field_files/6cbb8645gw1f6n9p6u4y9j203y01wwea.jpg" title="屏幕快照 2016-08-09 上午10.05.56.png" alt="屏幕快照 2016-08-09 上午10.05.56.png" width="46" height="22" border="0" vspace="0" style="width: 46px; height: 22px;" data-tag="bdshare">;</p>
<p style="text-indent: 2em;">输出：参数估计值模型<img src="./conditional-random-field_files/6cbb8645gw1f6n9pocxctj201e01k741.jpg" title="屏幕快照 2016-08-09 上午10.06.27.png" alt="屏幕快照 2016-08-09 上午10.06.27.png" width="20" height="22" border="0" vspace="0" style="width: 20px; height: 22px;" data-tag="bdshare">。</p>
<p style="text-indent: 2em;">(1)<span class="Apple-tab-span" style="white-space:pre"></span>对所有<img src="./conditional-random-field_files/6cbb8645gw1f6n9q431oqj207y022wec.jpg" title="屏幕快照 2016-08-09 上午10.06.49.png" alt="屏幕快照 2016-08-09 上午10.06.49.png" width="85" height="22" border="0" vspace="0" style="width: 85px; height: 22px;" data-tag="bdshare">，取初值<img src="./conditional-random-field_files/6cbb8645gw1f6n9qdexb2j203s01u0si.jpg" title="屏幕快照 2016-08-09 上午10.07.05.png" alt="屏幕快照 2016-08-09 上午10.07.05.png" width="45" height="22" border="0" vspace="0" style="width: 45px; height: 22px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">(2)<span class="Apple-tab-span" style="white-space:pre"></span>对每一<img src="./conditional-random-field_files/6cbb8645gw1f6n9q431oqj207y022wec.jpg" title="屏幕快照 2016-08-09 上午10.06.49.png" alt="屏幕快照 2016-08-09 上午10.06.49.png" width="85" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 85px; height: 22px;" data-tag="bdshare">:</p>
<p style="text-indent: 2em;">(a)<span class="Apple-tab-span" style="white-space:pre"></span>当<img src="./conditional-random-field_files/6cbb8645gw1f6n9s7tcz0j2072020web.jpg" title="屏幕快照 2016-08-09 上午10.08.46.png" alt="屏幕快照 2016-08-09 上午10.08.46.png" width="78" height="22" border="0" vspace="0" style="width: 78px; height: 22px;" data-tag="bdshare">时，令<img src="./conditional-random-field_files/6cbb8645gw1f6n9sfjjlej201k020a9t.jpg" title="屏幕快照 2016-08-09 上午10.09.06.png" alt="屏幕快照 2016-08-09 上午10.09.06.png" width="17" height="22" border="0" vspace="0" style="width: 17px; height: 22px;" data-tag="bdshare">是方程</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6n9t1ixfmj20tw03i74m.jpg" title="屏幕快照 2016-08-09 上午10.09.36.png" alt="屏幕快照 2016-08-09 上午10.09.36.png" width="376" height="44" border="0" vspace="0" style="width: 376px; height: 44px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">的解;</p>
<p style="text-indent: 2em;">当<img src="./conditional-random-field_files/6cbb8645gw1f6n9tmn799j20dm022wee.jpg" title="屏幕快照 2016-08-09 上午10.10.06.png" alt="屏幕快照 2016-08-09 上午10.10.06.png" width="146" height="22" border="0" vspace="0" style="width: 146px; height: 22px;" data-tag="bdshare">时，令<img src="./conditional-random-field_files/6cbb8645gw1f6n9txqmc4j202q020we9.jpg" title="屏幕快照 2016-08-09 上午10.10.28.png" alt="屏幕快照 2016-08-09 上午10.10.28.png" width="30" height="22" border="0" vspace="0" style="width: 30px; height: 22px;" data-tag="bdshare">是方程</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6n9ulbcjkj20rk03caad.jpg" title="屏幕快照 2016-08-09 上午10.11.00.png" alt="屏幕快照 2016-08-09 上午10.11.00.png" width="364" height="44" border="0" vspace="0" style="width: 364px; height: 44px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">的解，式中<img src="./conditional-random-field_files/6cbb8645gw1f6n9v9a21dj203s01wwea.jpg" title="屏幕快照 2016-08-09 上午10.11.45.png" alt="屏幕快照 2016-08-09 上午10.11.45.png" width="44" height="22" border="0" vspace="0" style="width: 44px; height: 22px;" data-tag="bdshare">由式<img src="./conditional-random-field_files/6cbb8645gw1f6n9lhllb3j20mu03ejrl.jpg" title="屏幕快照 2016-08-09 上午10.02.22.png" alt="屏幕快照 2016-08-09 上午10.02.22.png" width="296" height="44" border="0" vspace="0" style="text-align: center; white-space: normal; width: 296px; height: 44px;" data-tag="bdshare">给出。</p>
<p style="text-indent: 2em;">(b)<span class="Apple-tab-span" style="white-space:pre"></span>更新<img src="./conditional-random-field_files/6cbb8645gw1f6n9xd78wmj201i01o0sh.jpg" title="屏幕快照 2016-08-09 上午10.13.50.png" alt="屏幕快照 2016-08-09 上午10.13.50.png" width="20" height="22" border="0" vspace="0" style="width: 20px; height: 22px;" data-tag="bdshare">值：<img src="./conditional-random-field_files/6cbb8645gw1f6n9xr4y8rj207s020t8j.jpg" title="屏幕快照 2016-08-09 上午10.14.10.png" alt="屏幕快照 2016-08-09 上午10.14.10.png" width="86" height="22" border="0" vspace="0" style="width: 86px; height: 22px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">(3)<span class="Apple-tab-span" style="white-space:pre"></span>如果不是所有<img src="./conditional-random-field_files/6cbb8645gw1f6n9xd78wmj201i01o0sh.jpg" title="屏幕快照 2016-08-09 上午10.13.50.png" alt="屏幕快照 2016-08-09 上午10.13.50.png" width="20" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 20px; height: 22px;" data-tag="bdshare">都收敛，重复步骤(2)。<span class="Apple-tab-span" style="white-space:pre"></span></p>
<p style="text-indent: 2em;">在<img src="./conditional-random-field_files/6cbb8645gw1f6n9erx1qwj20tq08ujs8.jpg" title="屏幕快照 2016-08-09 上午9.55.55.png" alt="屏幕快照 2016-08-09 上午9.55.55.png" width="374" height="111" border="0" vspace="0" style="text-align: center; white-space: normal; width: 374px; height: 111px;" data-tag="bdshare">和<img src="./conditional-random-field_files/6cbb8645gw1f6n9jeye8wj20re0900ti.jpg" title="屏幕快照 2016-08-09 上午10.00.18.png" alt="屏幕快照 2016-08-09 上午10.00.18.png" width="339" height="111" border="0" vspace="0" style="text-align: center; white-space: normal; width: 339px; height: 111px;" data-tag="bdshare">中，<img src="./conditional-random-field_files/6cbb8645gw1f6n9v9a21dj203s01wwea.jpg" title="屏幕快照 2016-08-09 上午10.11.45.png" alt="屏幕快照 2016-08-09 上午10.11.45.png" width="44" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 44px; height: 22px;" data-tag="bdshare">表示数据<img src="./conditional-random-field_files/6cbb8645gw1f6n9zf7t19j203e024gle.jpg" title="屏幕快照 2016-08-09 上午10.15.47.png" alt="屏幕快照 2016-08-09 上午10.15.47.png" width="35" height="22" border="0" vspace="0" style="width: 35px; height: 22px;" data-tag="bdshare">中的特征总数，对不同的<span style="text-indent: 2em;">数据</span><img src="./conditional-random-field_files/6cbb8645gw1f6n9zf7t19j203e024gle.jpg" title="屏幕快照 2016-08-09 上午10.15.47.png" alt="屏幕快照 2016-08-09 上午10.15.47.png" width="35" height="22" border="0" vspace="0" style="width: 35px; height: 22px;" data-tag="bdshare"><span style="text-indent: 2em;">取值可能不同。为了处理这个问题，定义松弛特征</span></p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6na2o6besj20hm03gdfx.jpg" title="屏幕快照 2016-08-09 上午10.18.50.png" alt="屏幕快照 2016-08-09 上午10.18.50.png" width="225" height="44" border="0" vspace="0" style="width: 225px; height: 44px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">式中S是一个常数。选择足够大的常数S使得对训练数据集的所有数据<img src="./conditional-random-field_files/6cbb8645gw1f6n9zf7t19j203e024gle.jpg" title="屏幕快照 2016-08-09 上午10.15.47.png" alt="屏幕快照 2016-08-09 上午10.15.47.png" width="35" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 35px; height: 22px;" data-tag="bdshare">,<img src="./conditional-random-field_files/6cbb8645gw1f6na5sc9v3j206001sweb.jpg" title="屏幕快照 2016-08-09 上午10.21.49.png" alt="屏幕快照 2016-08-09 上午10.21.49.png" width="74" height="22" border="0" vspace="0" style="width: 74px; height: 22px;" data-tag="bdshare">成立。这时特征总数可取S。</p>
<p style="text-indent: 2em;">由式<img src="./conditional-random-field_files/6cbb8645gw1f6n9erx1qwj20tq08ujs8.jpg" title="屏幕快照 2016-08-09 上午9.55.55.png" alt="屏幕快照 2016-08-09 上午9.55.55.png" width="374" height="111" border="0" vspace="0" style="text-indent: 32px; white-space: normal; text-align: center; width: 374px; height: 111px;" data-tag="bdshare">,对于转移特征<img src="./conditional-random-field_files/6cbb8645gw1f6n9e5gqoyj201601m0qo.jpg" title="屏幕快照 2016-08-09 上午9.55.22.png" alt="屏幕快照 2016-08-09 上午9.55.22.png" width="16" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 16px; height: 22px;" data-tag="bdshare">，<img src="./conditional-random-field_files/6cbb8645gw1f6na6xehajj201g01s741.jpg" title="屏幕快照 2016-08-09 上午10.23.02.png" alt="屏幕快照 2016-08-09 上午10.23.02.png" width="18" height="22" border="0" vspace="0" style="width: 18px; height: 22px;" data-tag="bdshare">的更新方程是</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6na9x1voqj20qg08u74v.jpg" title="屏幕快照 2016-08-09 上午10.25.32.png" alt="屏幕快照 2016-08-09 上午10.25.32.png" width="299" height="100" border="0" vspace="0" style="width: 299px; height: 100px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">其中，</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6naauhlg0j212g04k3z5.jpg" title="屏幕快照 2016-08-09 上午10.26.45.png" alt="屏幕快照 2016-08-09 上午10.26.45.png" width="464" height="55" border="0" vspace="0" style="width: 464px; height: 55px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">同样由式<img src="./conditional-random-field_files/6cbb8645gw1f6n9jeye8wj20re0900ti.jpg" title="屏幕快照 2016-08-09 上午10.00.18.png" alt="屏幕快照 2016-08-09 上午10.00.18.png" width="339" height="111" border="0" vspace="0" style="text-align: center; white-space: normal; width: 339px; height: 111px;" data-tag="bdshare">，对于状态特征<img src="./conditional-random-field_files/6cbb8645gw1f6mf316n1mj201a01m0sc.jpg" title="屏幕快照 2016-08-08 下午4.26.44.png" alt="屏幕快照 2016-08-08 下午4.26.44.png" width="18" height="23" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 18px; height: 23px;" data-tag="bdshare">，<img src="./conditional-random-field_files/6cbb8645gw1f6na6xehajj201g01s741.jpg" title="屏幕快照 2016-08-09 上午10.23.02.png" alt="屏幕快照 2016-08-09 上午10.23.02.png" width="18" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 18px; height: 22px;" data-tag="bdshare">的更新方程是</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nadtd0a8j20os08e0ta.jpg" title="屏幕快照 2016-08-09 上午10.29.33.png" alt="屏幕快照 2016-08-09 上午10.29.33.png" width="261" height="88" border="0" vspace="0" style="width: 261px; height: 88px;" data-tag="bdshare"></p>
<p></p>
<p style="text-indent: 2em;">以上算法称为算法S。在算法S中需要使常数S取足够大，这样一来，每步迭代的增量向量会变大，算法收敛会变慢。算法T试图解决这个问题。算法T对每个观测序列x计算其特征总数最大值<img src="./conditional-random-field_files/6cbb8645gw1f6nagr9hqej202u01w3ya.jpg" title="屏幕快照 2016-08-09 上午10.32.27.png" alt="屏幕快照 2016-08-09 上午10.32.27.png" width="33" height="22" border="0" vspace="0" style="width: 33px; height: 22px;" data-tag="bdshare">:</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nah7wwm6j20ag02cq2u.jpg" title="屏幕快照 2016-08-09 上午10.32.51.png" alt="屏幕快照 2016-08-09 上午10.32.51.png" width="125" height="28" border="0" vspace="0" style="width: 125px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">利用前向-后向递推公式，可以很容易地计算<img src="./conditional-random-field_files/6cbb8645gw1f6naq7tjymj204i01ut8i.jpg" title="屏幕快照 2016-08-09 上午10.41.31.png" alt="屏幕快照 2016-08-09 上午10.41.31.png" width="54" height="22" border="0" vspace="0" style="width: 54px; height: 22px;" data-tag="bdshare">。</p>
<p style="text-indent: 2em;">这时，关于转移特征参数的更新方程可以写成：</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nas1h3qzj20t20dadh5.jpg" title="屏幕快照 2016-08-09 上午10.42.59.png" alt="屏幕快照 2016-08-09 上午10.42.59.png" width="302" height="138" border="0" vspace="0" style="text-align: center; white-space: normal; width: 302px; height: 138px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;"><span style="text-indent: 32px;">这里，</span><img src="./conditional-random-field_files/6cbb8645gw1f6nasz8exlj202201qdfl.jpg" title="屏幕快照 2016-08-09 上午10.44.13.png" alt="屏幕快照 2016-08-09 上午10.44.13.png" width="26" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 26px; height: 22px;" data-tag="bdshare"><span style="text-indent: 32px;">是特征</span><img src="./conditional-random-field_files/6cbb8645gw1f6natbcwk5j201201o0rz.jpg" title="屏幕快照 2016-08-09 上午10.44.26.png" alt="屏幕快照 2016-08-09 上午10.44.26.png" width="14" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 14px; height: 22px;" data-tag="bdshare"><span style="text-indent: 32px;">的期望值，</span><img src="./conditional-random-field_files/6cbb8645gw1f6nato27dxj205q02a3yc.jpg" title="屏幕快照 2016-08-09 上午10.44.46.png" alt="屏幕快照 2016-08-09 上午10.44.46.png" width="55" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 55px; height: 22px;" data-tag="bdshare"><span style="text-indent: 32px;">,</span><img src="./conditional-random-field_files/6cbb8645gw1f6nau4r66cj201m01ua9t.jpg" title="屏幕快照 2016-08-09 上午10.45.19.png" alt="屏幕快照 2016-08-09 上午10.45.19.png" width="19" height="22" border="0" vspace="0" style="text-indent: 32px; white-space: normal; width: 19px; height: 22px;" data-tag="bdshare"><span style="text-indent: 32px;">是多项式方程唯一的实根</span>,可以用牛顿法求得。从而求得相关的<img src="./conditional-random-field_files/6cbb8645gw1f6naw7rgbsj201a01w741.jpg" title="屏幕快照 2016-08-09 上午10.47.19.png" alt="屏幕快照 2016-08-09 上午10.47.19.png" width="15" height="22" border="0" vspace="0" style="width: 15px; height: 22px;" data-tag="bdshare">。</p>
<p style="text-indent: 2em;">同样，关于状态特征的参数更新方程可以写成：</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nawqkldtj20s40de75k.jpg" title="屏幕快照 2016-08-09 上午10.47.42.png" alt="屏幕快照 2016-08-09 上午10.47.42.png" width="290" height="138" border="0" vspace="0" style="width: 290px; height: 138px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">这里，<img src="./conditional-random-field_files/6cbb8645gw1f6naxkvdacj2020020gld.jpg" title="屏幕快照 2016-08-09 上午10.48.33.png" alt="屏幕快照 2016-08-09 上午10.48.33.png" width="22" height="22" border="0" vspace="0" style="width: 22px; height: 22px;" data-tag="bdshare">是特征<img src="./conditional-random-field_files/6cbb8645gw1f6nay26jccj201c01i0pl.jpg" title="屏幕快照 2016-08-09 上午10.48.58.png" alt="屏幕快照 2016-08-09 上午10.48.58.png" width="20" height="22" border="0" vspace="0" style="width: 20px; height: 22px;" data-tag="bdshare">的期望值，<img src="./conditional-random-field_files/6cbb8645gw1f6nayiavlpj205e01yjr7.jpg" title="屏幕快照 2016-08-09 上午10.49.27.png" alt="屏幕快照 2016-08-09 上午10.49.27.png" width="61" height="22" border="0" vspace="0" style="width: 61px; height: 22px;" data-tag="bdshare">,<img src="./conditional-random-field_files/6cbb8645gw1f6nayvgqusj201e01o3y9.jpg" title="屏幕快照 2016-08-09 上午10.49.52.png" alt="屏幕快照 2016-08-09 上午10.49.52.png" width="18" height="22" border="0" vspace="0" style="width: 18px; height: 22px;" data-tag="bdshare">是多项式方程唯一的实根,也可以用牛顿法求得。</p>
<h3 id="h3-14"><span style="text-indent: 2em;">拟牛顿法</span></h3>
<p style="text-indent: 2em;">条件随机场模型学习还可以应用牛顿法或拟牛顿法。对于条件随机场模型</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nb0rdqcdj20ji07ymxl.jpg" title="屏幕快照 2016-08-09 上午10.51.34.png" alt="屏幕快照 2016-08-09 上午10.51.34.png" width="216" height="88" border="0" vspace="0" style="width: 216px; height: 88px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">学习的优化目标函数是</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nb204dngj2124046q3j.jpg" title="屏幕快照 2016-08-09 上午10.52.45.png" alt="屏幕快照 2016-08-09 上午10.52.45.png" width="403" height="44" border="0" vspace="0" style="width: 403px; height: 44px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;"><span style="text-indent: 32px;">其梯度函数是</span></p>
<p style="text-align:center"><span style="text-indent: 32px;"><img src="./conditional-random-field_files/6cbb8645gw1f6rvxggs08j20i0032mx8.jpg" title="屏幕快照 2016-08-13 上午9.57.09.png" alt="屏幕快照 2016-08-13 上午9.57.09.png" width="225" height="38" border="0" vspace="0" style="width: 225px; height: 38px;" data-tag="bdshare"></span></p>
<p style="text-indent: 2em;">拟牛顿法的<a href="http://www.hankcs.com/ml/l-bfgs.html" target="_blank">BFGS算法</a>如下。</p>
<p style="text-indent: 2em;">算法(条件随机场模型学习的BFGS算法）</p>
<p style="text-indent: 2em;">输入：特征函数<img src="./conditional-random-field_files/6cbb8645gw1f6nb2vt6joj206801wmwz.jpg" title="屏幕快照 2016-08-09 上午10.53.43.png" alt="屏幕快照 2016-08-09 上午10.53.43.png" width="72" height="22" border="0" vspace="0" style="width: 72px; height: 22px;" data-tag="bdshare">；经验分布<img src="./conditional-random-field_files/6cbb8645gw1f6nb39jpprj204e020743.jpg" title="屏幕快照 2016-08-09 上午10.54.04.png" alt="屏幕快照 2016-08-09 上午10.54.04.png" width="48" height="22" border="0" vspace="0" style="width: 48px; height: 22px;" data-tag="bdshare">;</p>
<p style="text-indent: 2em;">输出：最优参数值<img src="./conditional-random-field_files/6cbb8645gw1f6nb3qe4fvj201a01k0sh.jpg" title="屏幕快照 2016-08-09 上午10.54.31.png" alt="屏幕快照 2016-08-09 上午10.54.31.png" width="18" height="22" border="0" vspace="0" style="width: 18px; height: 22px;" data-tag="bdshare">；最优模型<img src="./conditional-random-field_files/6cbb8645gw1f6nb46jls7j204s01ua9v.jpg" title="屏幕快照 2016-08-09 上午10.54.58.png" alt="屏幕快照 2016-08-09 上午10.54.58.png" width="57" height="22" border="0" vspace="0" style="width: 57px; height: 22px;" data-tag="bdshare">。</p>
<p style="text-indent: 2em;">(1)<span class="Apple-tab-span" style="white-space:pre"></span>选定初始点<img src="./conditional-random-field_files/6cbb8645gw1f6nb4vl1a8j202c01wjr5.jpg" title="屏幕快照 2016-08-09 上午10.55.30.png" alt="屏幕快照 2016-08-09 上午10.55.30.png" width="27" height="22" border="0" vspace="0" style="width: 27px; height: 22px;" data-tag="bdshare">，取<img src="./conditional-random-field_files/6cbb8645gw1f6nb58xeooj201q01sa9t.jpg" title="屏幕快照 2016-08-09 上午10.56.00.png" alt="屏幕快照 2016-08-09 上午10.56.00.png" width="21" height="22" border="0" vspace="0" style="width: 21px; height: 22px;" data-tag="bdshare">为正定对称矩阵，置<img src="./conditional-random-field_files/6cbb8645gw1f6nb5zj6dzj203e01swe9.jpg" title="屏幕快照 2016-08-09 上午10.56.27.png" alt="屏幕快照 2016-08-09 上午10.56.27.png" width="42" height="22" border="0" vspace="0" style="width: 42px; height: 22px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">(2) &nbsp; 计算<img src="./conditional-random-field_files/6cbb8645gw1f6nb6uusonj206o020glg.jpg" title="屏幕快照 2016-08-09 上午10.57.30.png" alt="屏幕快照 2016-08-09 上午10.57.30.png" width="73" height="22" border="0" vspace="0" style="width: 73px; height: 22px;" data-tag="bdshare">。若<img src="./conditional-random-field_files/6cbb8645gw1f6nb7apihrj203m01w742.jpg" title="屏幕快照 2016-08-09 上午10.57.58.png" alt="屏幕快照 2016-08-09 上午10.57.58.png" width="42" height="22" border="0" vspace="0" style="width: 42px; height: 22px;" data-tag="bdshare">,则停止计算；否则转(3)</p>
<p style="text-indent: 2em;">(3)<span class="Apple-tab-span" style="white-space:pre"></span>由<img src="./conditional-random-field_files/6cbb8645gw1f6nb7zfrfjj206201umwz.jpg" title="屏幕快照 2016-08-09 上午10.58.33.png" alt="屏幕快照 2016-08-09 上午10.58.33.png" width="73" height="22" border="0" vspace="0" style="width: 73px; height: 22px;" data-tag="bdshare">求出<img src="./conditional-random-field_files/6cbb8645gw1f6nb87ja1oj201q01g741.jpg" title="屏幕快照 2016-08-09 上午10.58.52.png" alt="屏幕快照 2016-08-09 上午10.58.52.png" width="26" height="22" border="0" vspace="0" style="width: 26px; height: 22px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">(4)<span class="Apple-tab-span" style="white-space:pre"></span>一维搜索：求<img src="./conditional-random-field_files/6cbb8645gw1f6nb906j2pj201m020a9t.jpg" title="屏幕快照 2016-08-09 上午10.59.36.png" alt="屏幕快照 2016-08-09 上午10.59.36.png" width="18" height="22" border="0" vspace="0" style="width: 18px; height: 22px;" data-tag="bdshare">使得</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nba6p678j20io02m74c.jpg" title="屏幕快照 2016-08-09 上午11.00.41.png" alt="屏幕快照 2016-08-09 上午11.00.41.png" width="236" height="33" border="0" vspace="0" style="width: 236px; height: 33px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">(5)<span class="Apple-tab-span" style="white-space:pre"></span>置<img src="./conditional-random-field_files/6cbb8645gw1f6nbbp104tj209y01wjr9.jpg" title="屏幕快照 2016-08-09 上午11.01.37.png" alt="屏幕快照 2016-08-09 上午11.01.37.png" width="116" height="22" border="0" vspace="0" style="width: 116px; height: 22px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">(6)<span class="Apple-tab-span" style="white-space:pre"></span>计算<img src="./conditional-random-field_files/6cbb8645gw1f6nbc9eshcj208402a3yd.jpg" title="屏幕快照 2016-08-09 上午11.02.43.png" alt="屏幕快照 2016-08-09 上午11.02.43.png" width="97" height="27" border="0" vspace="0" style="width: 97px; height: 27px;" data-tag="bdshare">，若<img src="./conditional-random-field_files/6cbb8645gw1f6nbczhr9ij201c01k3y9.jpg" title="屏幕快照 2016-08-09 上午11.03.25.png" alt="屏幕快照 2016-08-09 上午11.03.25.png" width="19" height="22" border="0" vspace="0" style="width: 19px; height: 22px;" data-tag="bdshare">=0,则停止计算；否则，按下式求出<img src="./conditional-random-field_files/6cbb8645gw1f6nbdgvensj202a01ymwx.jpg" title="屏幕快照 2016-08-09 上午11.03.51.png" alt="屏幕快照 2016-08-09 上午11.03.51.png" width="26" height="22" border="0" vspace="0" style="width: 26px; height: 22px;" data-tag="bdshare">:</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nbe1rqalj20gu03q3yo.jpg" title="屏幕快照 2016-08-09 上午11.04.24.png" alt="屏幕快照 2016-08-09 上午11.04.24.png" width="199" height="44" border="0" vspace="0" style="width: 199px; height: 44px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">其中，</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nbeohtnmj20i602gjrc.jpg" title="屏幕快照 2016-08-09 上午11.05.04.png" alt="屏幕快照 2016-08-09 上午11.05.04.png" width="209" height="28" border="0" vspace="0" style="width: 209px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">(7)<span class="Apple-tab-span" style="white-space:pre"></span>置<img src="./conditional-random-field_files/6cbb8645gw1f6nbfc1eaaj204q01ujr6.jpg" title="屏幕快照 2016-08-09 上午11.05.38.png" alt="屏幕快照 2016-08-09 上午11.05.38.png" width="57" height="22" border="0" vspace="0" style="width: 57px; height: 22px;" data-tag="bdshare">，转(3)。</p>
<h2 id="h2-15">条件随机场的预测算法</h2>
<p style="text-indent: 2em;">条件随机场的预测问题是给定条件随机场<img src="./conditional-random-field_files/6cbb8645gw1f6nbijht78j204o01q743.jpg" title="屏幕快照 2016-08-09 上午11.08.44.png" alt="屏幕快照 2016-08-09 上午11.08.44.png" width="60" height="22" border="0" vspace="0" style="width: 60px; height: 22px;" data-tag="bdshare">和输入序列（观测序列）x,求条件概率最大的输出序列（标记序列）<img src="./conditional-random-field_files/6cbb8645gw1f6nbizvl2ej201s01w0sh.jpg" title="屏幕快照 2016-08-09 上午11.09.13.png" alt="屏幕快照 2016-08-09 上午11.09.13.png" width="21" height="22" border="0" vspace="0" style="width: 21px; height: 22px;" data-tag="bdshare">，即对观测序列进行标注。条件随机场的预测算法是著名的维特比算法。</p>
<p style="text-indent: 2em;">由式<img src="./conditional-random-field_files/6cbb8645gw1f6nbjxh37kj20ei03g3yk.jpg" title="屏幕快照 2016-08-09 上午11.09.59.png" alt="屏幕快照 2016-08-09 上午11.09.59.png" width="185" height="44" border="0" vspace="0" style="width: 185px; height: 44px;" data-tag="bdshare">可得：</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nbkxm3b0j20fk0asaas.jpg" title="屏幕快照 2016-08-09 上午11.11.00.png" alt="屏幕快照 2016-08-09 上午11.11.00.png" width="207" height="144" border="0" vspace="0" style="width: 207px; height: 144px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">于是，条件随机场的预测问题成为求非规范化概率最大的最优路径问题</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nblsvkpaj209i02c3ye.jpg" title="屏幕快照 2016-08-09 上午11.11.55.png" alt="屏幕快照 2016-08-09 上午11.11.55.png" width="134" height="33" border="0" vspace="0" style="width: 134px; height: 33px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">这里，路径表示标记序列。其中，</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nbmjxkd6j20n407g3z6.jpg" title="屏幕快照 2016-08-09 上午11.12.35.png" alt="屏幕快照 2016-08-09 上午11.12.35.png" width="305" height="98" border="0" vspace="0" style="width: 305px; height: 98px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">注意，这时只需计算非规范化概率，而不必计算概率，可以大大提高效率。为了求解最优路径，将<img src="./conditional-random-field_files/6cbb8645gw1f6nblsvkpaj209i02c3ye.jpg" title="屏幕快照 2016-08-09 上午11.11.55.png" alt="屏幕快照 2016-08-09 上午11.11.55.png" width="134" height="33" border="0" vspace="0" style="text-align: center; white-space: normal; width: 134px; height: 33px;" data-tag="bdshare">写成如下形式：</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nbrc36k4j20ds038dft.jpg" title="屏幕快照 2016-08-09 上午11.17.06.png" alt="屏幕快照 2016-08-09 上午11.17.06.png" width="184" height="43" border="0" vspace="0" style="width: 184px; height: 43px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">其中，</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nbs8vpr6j20ya02a0t1.jpg" title="屏幕快照 2016-08-09 上午11.18.04.png" alt="屏幕快照 2016-08-09 上午11.18.04.png" width="422" height="28" border="0" vspace="0" style="width: 422px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">是局部特征向量。</p>
<p style="text-indent: 2em;">下面叙述维特比算法。首先求出位置1的各个标记j=1,2,…，m的非规范化概率:</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nbt69v10j20qe028aa6.jpg" title="屏幕快照 2016-08-09 上午11.18.58.png" alt="屏幕快照 2016-08-09 上午11.18.58.png" width="333" height="28" border="0" vspace="0" style="width: 333px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">一般地，由递推公式，求出到位置》。的各个标记/=l，2，。。。，m的非规范化概率的最大值，同时记录非规范化概率最大值的路径</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nbwv6zrjj20w402swer.jpg" title="屏幕快照 2016-08-09 上午11.22.23.png" alt="屏幕快照 2016-08-09 上午11.22.23.png" width="405" height="35" border="0" vspace="0" style="width: 405px; height: 35px;" data-tag="bdshare"></p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nbxn0ajmj20xq02iq38.jpg" title="屏幕快照 2016-08-09 上午11.23.10.png" alt="屏幕快照 2016-08-09 上午11.23.10.png" width="446" height="33" border="0" vspace="0" style="width: 446px; height: 33px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">直到<img src="./conditional-random-field_files/6cbb8645gw1f6nbyfpxuoj202u01mjr5.jpg" title="屏幕快照 2016-08-09 上午11.24.01.png" alt="屏幕快照 2016-08-09 上午11.24.01.png" width="39" height="22" border="0" vspace="0" style="width: 39px; height: 22px;" data-tag="bdshare">时终止。这时求得非规范化概率的最大值为</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nbz0i0ipj20fe02a74b.jpg" title="屏幕快照 2016-08-09 上午11.24.31.png" alt="屏幕快照 2016-08-09 上午11.24.31.png" width="190" height="28" border="0" vspace="0" style="width: 190px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">及最优路径的终点</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nbztbwewj20a002gmx3.jpg" title="屏幕快照 2016-08-09 上午11.25.18.png" alt="屏幕快照 2016-08-09 上午11.25.18.png" width="135" height="33" border="0" vspace="0" style="width: 135px; height: 33px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">由此最优路径终点返回,</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nc1uqw58j20j6026mx5.jpg" title="屏幕快照 2016-08-09 上午11.27.18.png" alt="屏幕快照 2016-08-09 上午11.27.18.png" width="248" height="28" border="0" vspace="0" style="width: 248px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">求得最优路径<img src="./conditional-random-field_files/6cbb8645gw1f6nc2iwm5ij20ak020746.jpg" title="屏幕快照 2016-08-09 上午11.27.57.png" alt="屏幕快照 2016-08-09 上午11.27.57.png" width="148" height="28" border="0" vspace="0" style="width: 148px; height: 28px;" data-tag="bdshare">。</p>
<p style="text-indent: 2em;">综上所述，得到条件随机场预测的维特比算法：</p>
<p style="text-indent: 2em;">算法(条件随机场预测的维特比算法）</p>
<p style="text-indent: 2em;">输入：模型特征向量<img src="./conditional-random-field_files/6cbb8645gw1f6nc3d1kyoj204001ywea.jpg" title="屏幕快照 2016-08-09 上午11.28.47.png" alt="屏幕快照 2016-08-09 上午11.28.47.png" width="45" height="22" border="0" vspace="0" style="width: 45px; height: 22px;" data-tag="bdshare">和权值向量<img src="./conditional-random-field_files/6cbb8645gw1f6nc3ldg5xj201c0120pe.jpg" title="屏幕快照 2016-08-09 上午11.29.02.png" alt="屏幕快照 2016-08-09 上午11.29.02.png" width="19" height="15" border="0" vspace="0" style="width: 19px; height: 15px;" data-tag="bdshare">,观测序列<img src="./conditional-random-field_files/6cbb8645gw1f6nc6e1flbj2094022a9x.jpg" title="屏幕快照 2016-08-09 上午11.31.42.png" alt="屏幕快照 2016-08-09 上午11.31.42.png" width="98" height="22" border="0" vspace="0" style="width: 98px; height: 22px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">输出：最优路径<img src="./conditional-random-field_files/6cbb8645gw1f6nc6u7bqjj209y0263ye.jpg" title="屏幕快照 2016-08-09 上午11.32.06.png" alt="屏幕快照 2016-08-09 上午11.32.06.png" width="101" height="22" border="0" vspace="0" style="width: 101px; height: 22px;" data-tag="bdshare">。</p>
<p style="text-indent: 2em;">(1)<span class="Apple-tab-span" style="white-space:pre"></span>初始化</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nc7b9zdrj20q002eglq.jpg" title="屏幕快照 2016-08-09 上午11.32.34.png" alt="屏幕快照 2016-08-09 上午11.32.34.png" width="304" height="28" border="0" vspace="0" style="width: 304px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">(2)<span class="Apple-tab-span" style="white-space:pre"></span>递推。对<img src="./conditional-random-field_files/6cbb8645gw1f6nc86ar89j206e01odfn.jpg" title="屏幕快照 2016-08-09 上午11.33.26.png" alt="屏幕快照 2016-08-09 上午11.33.26.png" width="84" height="22" border="0" vspace="0" style="width: 84px; height: 22px;" data-tag="bdshare"></p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nc7yu7u3j20y204u0tk.jpg" title="屏幕快照 2016-08-09 上午11.32.49.png" alt="屏幕快照 2016-08-09 上午11.32.49.png" width="409" height="58" border="0" vspace="0" style="width: 409px; height: 58px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">(3)<span class="Apple-tab-span" style="white-space:pre"></span>终止</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nc8z3iz2j20fs052dg3.jpg" title="屏幕快照 2016-08-09 上午11.34.11.png" alt="屏幕快照 2016-08-09 上午11.34.11.png" width="206" height="66" border="0" vspace="0" style="width: 206px; height: 66px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">(4)<span class="Apple-tab-span" style="white-space:pre"></span>返回路径</p>
<p style="text-align:center"><img src="./conditional-random-field_files/6cbb8645gw1f6nc9ikzenj20j6024mx5.jpg" title="屏幕快照 2016-08-09 上午11.34.42.png" alt="屏幕快照 2016-08-09 上午11.34.42.png" width="254" height="28" border="0" vspace="0" style="width: 254px; height: 28px;" data-tag="bdshare"></p>
<p style="text-indent: 2em;">求得最优路径<img src="./conditional-random-field_files/6cbb8645gw1f6ncad9tkpj20a0022746.jpg" title="屏幕快照 2016-08-09 上午11.35.30.png" alt="屏幕快照 2016-08-09 上午11.35.30.png" width="107" height="22" border="0" vspace="0" style="width: 107px; height: 22px;" data-tag="bdshare">。</p>
<h2 id="h2-16">CRF实现</h2>
<p style="text-indent: 2em;">关于具体的实现，这次发现CRF++与《方法》的契合度非常之高，所以请直接参考<a href="http://www.hankcs.com/ml/crf-code-analysis.html" target="_blank" style="text-indent: 32px; white-space: normal;">《CRF++代码分析》</a>。</p>
<p style="text-indent: 2em;">目前Python阵营里并没有简单好懂的实现，反而不如直接切入CRF++的生产代码有效果，还可以顺便学到不少C++的小知识。</p>
<h2 id="h2-17">Reference</h2>
<p style="text-indent: 2em;">《统计学习方法》</p>
<p style="text-indent: 2em;"><a href="http://mi.eng.cam.ac.uk/~cz277/doc/Slides-CRFASR-CSLT.pdf" _src="http://mi.eng.cam.ac.uk/~cz277/doc/Slides-CRFASR-CSLT.pdf" target="_blank" rel="external nofollow" style="text-indent: 32px; white-space: normal;">http://mi.eng.cam.ac.uk/~cz277/doc/Slides-CRFASR-CSLT.pdf</a></p>
<p class="post-copyright"><a href="http://www.hankcs.com/license/" target="_blank"><img alt="知识共享许可协议" style="border-width: 0px;margin: 0 !important;" src="./conditional-random-field_files/CC-BY-NC-SA-icon-88x31.png" width="88" height="31" border="0" vspace="0" title="知识共享许可协议" data-tag="bdshare"></a>&nbsp;<a href="http://www.hankcs.com/license/" target="_blank" textvalue="知识共享署名-非商业性使用-相同方式共享">知识共享署名-非商业性使用-相同方式共享</a>：<a href="http://www.hankcs.com/">码农场</a> » <a href="http://www.hankcs.com/ml/conditional-random-field.html">条件随机场</a></p>		</article>
								<div class="action-share bdsharebuttonbox bdshare-button-style0-24" data-bd-bind="1499055369907">
			<span>分享到：</span><a class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a class="bds_weixin" data-cmd="weixin" title="分享到微信"></a><a class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a><a class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a><a class="bds_bdhome" data-cmd="bdhome" title="分享到百度新首页"></a><a class="bds_tqf" data-cmd="tqf" title="分享到腾讯朋友"></a><a class="bds_renren" data-cmd="renren" title="分享到人人网"></a><a class="bds_diandian" data-cmd="diandian" title="分享到点点网"></a><a class="bds_youdao" data-cmd="youdao" title="分享到有道云笔记"></a><a class="bds_ty" data-cmd="ty" title="分享到天涯社区"></a><a class="bds_kaixin001" data-cmd="kaixin001" title="分享到开心网"></a><a class="bds_taobao" data-cmd="taobao"></a><a class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a><a class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a><a class="bds_twi" data-cmd="twi" title="分享到Twitter"></a><a class="bds_mail" data-cmd="mail" title="分享到邮件分享"></a><a class="bds_copy" data-cmd="copy" title="分享到复制网址"></a><a class="bds_more" data-cmd="more">更多</a> <span>(</span><a class="bds_count" data-cmd="count"></a><span>)</span>		</div>
		<div class="article-tags">继续浏览有关 <a href="http://www.hankcs.com/ml/"><i class="fa fa-folder-open"></i> 机器学习</a><a href="http://www.hankcs.com/tag/crf/" rel="tag">CRF</a><a href="http://www.hankcs.com/tag/%e3%80%8a%e7%bb%9f%e8%ae%a1%e5%ad%a6%e4%b9%a0%e6%96%b9%e6%b3%95%e3%80%8b/" rel="tag">《统计学习方法》</a><a href="http://www.hankcs.com/tag/%e7%bb%b4%e7%89%b9%e6%af%94%e7%ae%97%e6%b3%95/" rel="tag">维特比算法</a> 的文章</div>		<div class="asb asb-post asb-post-02"><script async="" src="./conditional-random-field_files/adsbygoogle.js.下载"></script>
<!-- 文章页正文下 页首横幅 -->
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-1152644711996772" data-ad-slot="2657945648" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><ins id="aswift_1_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;width:728px;height:90px;" src="./conditional-random-field_files/saved_resource(1).html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>		<nav class="article-nav">
			<span class="article-nav-prev">上一篇 <a href="http://www.hankcs.com/ml/computing-log-sum-exp.html" rel="prev">计算指数函数的和的对数</a></span>
			<span class="article-nav-next"><a href="http://www.hankcs.com/ml/crf-code-analysis.html" rel="next">CRF++代码分析</a> 下一篇</span>
		</nav>
				<div class="asb asb-post asb-post-03"><script async="" src="./conditional-random-field_files/adsbygoogle.js.下载"></script>
<!-- 匹配内容 -->
<ins class="adsbygoogle" style="display: block; height: 466px;" data-ad-client="ca-pub-1152644711996772" data-ad-slot="7343699642" data-ad-format="autorelaxed" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:466px;margin:0;padding:0;position:relative;visibility:visible;width:778px;background-color:transparent"><ins id="aswift_2_anchor" style="display:block;border:none;height:466px;margin:0;padding:0;position:relative;visibility:visible;width:778px;background-color:transparent"><iframe width="778" height="466" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;width:778px;height:466px;" src="./conditional-random-field_files/saved_resource(2).html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>		<div class="title" id="comments">
	<h3>评论 <small>欢迎留言</small></h3>
</div>
<div id="respond" class="no_webshot">
		
	<form action="http://www.hankcs.com/wp-comments-post.php" method="post" id="commentform">
		<div class="comt">
			<div class="comt-title">
				<img alt="" data-src="http://1.gravatar.com/avatar/?s=50&amp;d=http%3A%2F%2Fwww.hankcs.com%2Fwp-content%2Fthemes%2Fdux%2Fimg%2Favatar-default.png&amp;r=g" srcset="http://2.gravatar.com/avatar/?s=100&amp;d=http%3A%2F%2Fwww.hankcs.com%2Fwp-content%2Fthemes%2Fdux%2Fimg%2Favatar-default.png&amp;r=g 2x" class="avatar avatar-50 photo avatar-default" height="50" width="50" src="./conditional-random-field_files/saved_resource" style="display: inline;">				<p><a id="cancel-comment-reply-link" href="javascript:;">取消</a></p>
			</div>
			<div class="comt-box">
				<textarea placeholder="此处不受理任何开源项目问题，请在GitHub上发issue ，大家一起讨论，谢谢。" class="input-block-level comt-area" name="comment" id="comment" cols="100%" rows="3" tabindex="1" onkeydown="if(event.ctrlKey&amp;&amp;event.keyCode==13){document.getElementById(&#39;submit&#39;).click();return false};"></textarea>
				<div class="comt-ctrl">
					<div class="comt-tips"><input type="hidden" name="comment_post_ID" value="7786" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="0de722abaf"></p><label for="comment_mail_notify" class="checkbox inline hide" style="padding-top:0"><input type="checkbox" name="comment_mail_notify" id="comment_mail_notify" value="comment_mail_notify" checked="checked">有人回复时邮件通知我</label><p style="display: none;"></p><div class="comt-tip comt-loading" style="display: none;">评论提交中...</div><div class="comt-tip comt-error" style="display: none;">#</div></div>
					<button type="submit" name="submit" id="submit" tabindex="5">提交评论</button>
					<!-- <span data-type="comment-insert-smilie" class="muted comt-smilie"><i class="icon-thumbs-up icon12"></i> 表情</span> -->
				</div>
			</div>

												<div class="comt-comterinfo" id="comment-author-info">
						<ul>
							<li class="form-inline"><label class="hide" for="author">昵称</label><input class="ipt" type="text" name="author" id="author" value="" tabindex="2" placeholder="昵称"><span class="text-muted">昵称 (必填)</span></li>
							<li class="form-inline"><label class="hide" for="email">邮箱</label><input class="ipt" type="text" name="email" id="email" value="" tabindex="3" placeholder="邮箱"><span class="text-muted">邮箱 (必填)</span></li>
							<li class="form-inline"><label class="hide" for="url">网址</label><input class="ipt" type="text" name="url" id="url" value="" tabindex="4" placeholder="网址"><span class="text-muted">网址</span></li>
						</ul>
					</div>
									</div>

	<input type="hidden" id="ak_js" name="ak_js" value="1499055369512"></form>
	</div>
	</div>
	</div>
	<aside class="sidebar">
<div class="widget widget_categories affix-top" style="top: 0px;"><h3>栏目分类</h3><label class="screen-reader-text" for="cat">栏目分类</label><select name="cat" id="cat" class="postform">
	<option value="-1">选择分类目录</option>
	<option class="level-0" value="18">ACG&nbsp;&nbsp;(7)</option>
	<option class="level-1" value="117">&nbsp;&nbsp;&nbsp;游戏&nbsp;&nbsp;(5)</option>
	<option class="level-0" value="7">Web开发&nbsp;&nbsp;(80)</option>
	<option class="level-1" value="64">&nbsp;&nbsp;&nbsp;BAE&nbsp;&nbsp;(13)</option>
	<option class="level-1" value="11">&nbsp;&nbsp;&nbsp;Linux相关&nbsp;&nbsp;(9)</option>
	<option class="level-1" value="54">&nbsp;&nbsp;&nbsp;Mac OS&nbsp;&nbsp;(1)</option>
	<option class="level-1" value="27">&nbsp;&nbsp;&nbsp;WordPress&nbsp;&nbsp;(8)</option>
	<option class="level-1" value="65">&nbsp;&nbsp;&nbsp;Yii&nbsp;&nbsp;(17)</option>
	<option class="level-1" value="2">&nbsp;&nbsp;&nbsp;主机域名&nbsp;&nbsp;(26)</option>
	<option class="level-1" value="66">&nbsp;&nbsp;&nbsp;数据库&nbsp;&nbsp;(4)</option>
	<option class="level-0" value="140">信息安全&nbsp;&nbsp;(3)</option>
	<option class="level-0" value="1">其他类别&nbsp;&nbsp;(184)</option>
	<option class="level-1" value="78">&nbsp;&nbsp;&nbsp;心情&nbsp;&nbsp;(1)</option>
	<option class="level-1" value="15">&nbsp;&nbsp;&nbsp;旧的博文&nbsp;&nbsp;(170)</option>
	<option class="level-0" value="87">操作系统&nbsp;&nbsp;(3)</option>
	<option class="level-1" value="88">&nbsp;&nbsp;&nbsp;Windows&nbsp;&nbsp;(2)</option>
	<option class="level-0" value="81">数学基礎&nbsp;&nbsp;(3)</option>
	<option class="level-0" value="4">日语教程&nbsp;&nbsp;(120)</option>
	<option class="level-1" value="96">&nbsp;&nbsp;&nbsp;口译&nbsp;&nbsp;(1)</option>
	<option class="level-1" value="59">&nbsp;&nbsp;&nbsp;新编日语商务贸易会话&nbsp;&nbsp;(14)</option>
	<option class="level-1" value="19">&nbsp;&nbsp;&nbsp;新编日语阅读文选&nbsp;&nbsp;(34)</option>
	<option class="level-2" value="44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;第一册&nbsp;&nbsp;(20)</option>
	<option class="level-2" value="61">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;第三册&nbsp;&nbsp;(2)</option>
	<option class="level-2" value="20">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;第二册&nbsp;&nbsp;(10)</option>
	<option class="level-1" value="46">&nbsp;&nbsp;&nbsp;日语入门&nbsp;&nbsp;(2)</option>
	<option class="level-1" value="62">&nbsp;&nbsp;&nbsp;日语听力&nbsp;&nbsp;(2)</option>
	<option class="level-1" value="5">&nbsp;&nbsp;&nbsp;日语综合教程&nbsp;&nbsp;(64)</option>
	<option class="level-2" value="120">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;第七册&nbsp;&nbsp;(14)</option>
	<option class="level-2" value="50">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;第三册&nbsp;&nbsp;(7)</option>
	<option class="level-2" value="73">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;第五册&nbsp;&nbsp;(12)</option>
	<option class="level-2" value="98">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;第六册&nbsp;&nbsp;(18)</option>
	<option class="level-2" value="6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;第四册&nbsp;&nbsp;(12)</option>
	<option class="level-1" value="86">&nbsp;&nbsp;&nbsp;月の珊瑚&nbsp;&nbsp;(3)</option>
	<option class="level-0" value="131">机器学习&nbsp;&nbsp;(57)</option>
	<option class="level-0" value="16">经济人文&nbsp;&nbsp;(19)</option>
	<option class="level-1" value="17">&nbsp;&nbsp;&nbsp;国际贸易理论与政策&nbsp;&nbsp;(9)</option>
	<option class="level-1" value="30">&nbsp;&nbsp;&nbsp;当代世界经济与政治&nbsp;&nbsp;(3)</option>
	<option class="level-0" value="9">编程开发&nbsp;&nbsp;(556)</option>
	<option class="level-1" value="8">&nbsp;&nbsp;&nbsp;Android&nbsp;&nbsp;(30)</option>
	<option class="level-1" value="13">&nbsp;&nbsp;&nbsp;C++&nbsp;&nbsp;(237)</option>
	<option class="level-1" value="25">&nbsp;&nbsp;&nbsp;Drupal&nbsp;&nbsp;(23)</option>
	<option class="level-1" value="10">&nbsp;&nbsp;&nbsp;Java&nbsp;&nbsp;(69)</option>
	<option class="level-1" value="123">&nbsp;&nbsp;&nbsp;Javascript&nbsp;&nbsp;(1)</option>
	<option class="level-1" value="24">&nbsp;&nbsp;&nbsp;PHP&nbsp;&nbsp;(57)</option>
	<option class="level-1" value="94">&nbsp;&nbsp;&nbsp;Python&nbsp;&nbsp;(8)</option>
	<option class="level-1" value="14">&nbsp;&nbsp;&nbsp;汇编逆向&nbsp;&nbsp;(12)</option>
	<option class="level-1" value="70">&nbsp;&nbsp;&nbsp;算法&nbsp;&nbsp;(235)</option>
	<option class="level-1" value="121">&nbsp;&nbsp;&nbsp;网络&nbsp;&nbsp;(6)</option>
	<option class="level-0" value="104">自然语言处理&nbsp;&nbsp;(77)</option>
	<option class="level-1" value="109">&nbsp;&nbsp;&nbsp;中文分词&nbsp;&nbsp;(10)</option>
	<option class="level-1" value="128">&nbsp;&nbsp;&nbsp;句法分析&nbsp;&nbsp;(6)</option>
	<option class="level-1" value="127">&nbsp;&nbsp;&nbsp;命名实体识别&nbsp;&nbsp;(6)</option>
	<option class="level-1" value="105">&nbsp;&nbsp;&nbsp;语料库&nbsp;&nbsp;(4)</option>
	<option class="level-0" value="12">软件发布&nbsp;&nbsp;(9)</option>
</select>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dropdown = document.getElementById( "cat" );
	function onCatChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value > 0 ) {
			location.href = "http://www.hankcs.com/?cat=" + dropdown.options[ dropdown.selectedIndex ].value;
		}
	}
	dropdown.onchange = onCatChange;
})();
/* ]]> */
</script>

</div><div class="widget widget_archive" style="top: 0px;"><h3>文章归档</h3>		<label class="screen-reader-text" for="archives-dropdown-5">文章归档</label>
		<select id="archives-dropdown-5" name="archive-dropdown" onchange="document.location.href=this.options[this.selectedIndex].value;">
			
			<option value="">选择月份</option>
				<option value="http://www.hankcs.com/2017/07/"> 2017年七月 &nbsp;(1)</option>
	<option value="http://www.hankcs.com/2017/06/"> 2017年六月 &nbsp;(28)</option>
	<option value="http://www.hankcs.com/2017/05/"> 2017年五月 &nbsp;(8)</option>
	<option value="http://www.hankcs.com/2017/03/"> 2017年三月 &nbsp;(12)</option>
	<option value="http://www.hankcs.com/2017/02/"> 2017年二月 &nbsp;(13)</option>
	<option value="http://www.hankcs.com/2017/01/"> 2017年一月 &nbsp;(22)</option>
	<option value="http://www.hankcs.com/2016/12/"> 2016年十二月 &nbsp;(2)</option>
	<option value="http://www.hankcs.com/2016/11/"> 2016年十一月 &nbsp;(15)</option>
	<option value="http://www.hankcs.com/2016/10/"> 2016年十月 &nbsp;(3)</option>
	<option value="http://www.hankcs.com/2016/09/"> 2016年九月 &nbsp;(3)</option>
	<option value="http://www.hankcs.com/2016/08/"> 2016年八月 &nbsp;(7)</option>
	<option value="http://www.hankcs.com/2016/07/"> 2016年七月 &nbsp;(1)</option>
	<option value="http://www.hankcs.com/2016/06/"> 2016年六月 &nbsp;(1)</option>
	<option value="http://www.hankcs.com/2016/05/"> 2016年五月 &nbsp;(3)</option>
	<option value="http://www.hankcs.com/2016/04/"> 2016年四月 &nbsp;(2)</option>
	<option value="http://www.hankcs.com/2016/03/"> 2016年三月 &nbsp;(3)</option>
	<option value="http://www.hankcs.com/2016/02/"> 2016年二月 &nbsp;(3)</option>
	<option value="http://www.hankcs.com/2015/12/"> 2015年十二月 &nbsp;(3)</option>
	<option value="http://www.hankcs.com/2015/11/"> 2015年十一月 &nbsp;(6)</option>
	<option value="http://www.hankcs.com/2015/10/"> 2015年十月 &nbsp;(4)</option>
	<option value="http://www.hankcs.com/2015/09/"> 2015年九月 &nbsp;(4)</option>
	<option value="http://www.hankcs.com/2015/08/"> 2015年八月 &nbsp;(2)</option>
	<option value="http://www.hankcs.com/2015/07/"> 2015年七月 &nbsp;(6)</option>
	<option value="http://www.hankcs.com/2015/05/"> 2015年五月 &nbsp;(3)</option>
	<option value="http://www.hankcs.com/2015/04/"> 2015年四月 &nbsp;(5)</option>
	<option value="http://www.hankcs.com/2015/03/"> 2015年三月 &nbsp;(3)</option>
	<option value="http://www.hankcs.com/2015/02/"> 2015年二月 &nbsp;(22)</option>
	<option value="http://www.hankcs.com/2015/01/"> 2015年一月 &nbsp;(14)</option>
	<option value="http://www.hankcs.com/2014/12/"> 2014年十二月 &nbsp;(10)</option>
	<option value="http://www.hankcs.com/2014/11/"> 2014年十一月 &nbsp;(21)</option>
	<option value="http://www.hankcs.com/2014/10/"> 2014年十月 &nbsp;(14)</option>
	<option value="http://www.hankcs.com/2014/09/"> 2014年九月 &nbsp;(16)</option>
	<option value="http://www.hankcs.com/2014/08/"> 2014年八月 &nbsp;(11)</option>
	<option value="http://www.hankcs.com/2014/07/"> 2014年七月 &nbsp;(6)</option>
	<option value="http://www.hankcs.com/2014/06/"> 2014年六月 &nbsp;(13)</option>
	<option value="http://www.hankcs.com/2014/05/"> 2014年五月 &nbsp;(28)</option>
	<option value="http://www.hankcs.com/2014/04/"> 2014年四月 &nbsp;(41)</option>
	<option value="http://www.hankcs.com/2014/03/"> 2014年三月 &nbsp;(26)</option>
	<option value="http://www.hankcs.com/2014/02/"> 2014年二月 &nbsp;(52)</option>
	<option value="http://www.hankcs.com/2014/01/"> 2014年一月 &nbsp;(28)</option>
	<option value="http://www.hankcs.com/2013/12/"> 2013年十二月 &nbsp;(29)</option>
	<option value="http://www.hankcs.com/2013/11/"> 2013年十一月 &nbsp;(21)</option>
	<option value="http://www.hankcs.com/2013/10/"> 2013年十月 &nbsp;(11)</option>
	<option value="http://www.hankcs.com/2013/09/"> 2013年九月 &nbsp;(19)</option>
	<option value="http://www.hankcs.com/2013/08/"> 2013年八月 &nbsp;(22)</option>
	<option value="http://www.hankcs.com/2013/07/"> 2013年七月 &nbsp;(36)</option>
	<option value="http://www.hankcs.com/2013/06/"> 2013年六月 &nbsp;(24)</option>
	<option value="http://www.hankcs.com/2013/05/"> 2013年五月 &nbsp;(36)</option>
	<option value="http://www.hankcs.com/2013/04/"> 2013年四月 &nbsp;(29)</option>
	<option value="http://www.hankcs.com/2013/03/"> 2013年三月 &nbsp;(46)</option>
	<option value="http://www.hankcs.com/2013/02/"> 2013年二月 &nbsp;(5)</option>
	<option value="http://www.hankcs.com/2012/05/"> 2012年五月 &nbsp;(2)</option>
	<option value="http://www.hankcs.com/2012/04/"> 2012年四月 &nbsp;(6)</option>
	<option value="http://www.hankcs.com/2010/12/"> 2010年十二月 &nbsp;(5)</option>
	<option value="http://www.hankcs.com/2010/11/"> 2010年十一月 &nbsp;(10)</option>
	<option value="http://www.hankcs.com/2010/10/"> 2010年十月 &nbsp;(13)</option>
	<option value="http://www.hankcs.com/2010/09/"> 2010年九月 &nbsp;(6)</option>
	<option value="http://www.hankcs.com/2010/08/"> 2010年八月 &nbsp;(5)</option>
	<option value="http://www.hankcs.com/2010/07/"> 2010年七月 &nbsp;(3)</option>
	<option value="http://www.hankcs.com/2010/06/"> 2010年六月 &nbsp;(12)</option>
	<option value="http://www.hankcs.com/2010/05/"> 2010年五月 &nbsp;(14)</option>
	<option value="http://www.hankcs.com/2010/04/"> 2010年四月 &nbsp;(8)</option>
	<option value="http://www.hankcs.com/2010/03/"> 2010年三月 &nbsp;(16)</option>
	<option value="http://www.hankcs.com/2010/01/"> 2010年一月 &nbsp;(16)</option>
	<option value="http://www.hankcs.com/2009/12/"> 2009年十二月 &nbsp;(33)</option>
	<option value="http://www.hankcs.com/2009/11/"> 2009年十一月 &nbsp;(26)</option>
	<option value="http://www.hankcs.com/2009/09/"> 2009年九月 &nbsp;(2)</option>

		</select>
		</div><div class="widget widget_ui_posts"><h3>热门文章</h3><ul>		<li><a target="_blank" href="http://www.hankcs.com/ml/machine-learning-entry-list.html"><span class="thumbnail"><img src="./conditional-random-field_files/6cbb8645gw1ew7s3qoi2uj20h30meaco.jpg" class="thumb" alt="机器学习入门书单" title="机器学习入门书单"></span><span class="text">机器学习入门书单</span><span class="muted">2015-02-04</span><span class="muted">评论(26)</span></a></li>
		<li><a target="_blank" href="http://www.hankcs.com/ml/back-propagation-neural-network.html"><span class="thumbnail"><img src="./conditional-random-field_files/6cbb8645gw1exsm4yho09j208c044t8o.jpg" class="thumb" alt="反向传播神经网络极简入门" title="反向传播神经网络极简入门"></span><span class="text">反向传播神经网络极简入门</span><span class="muted">2015-11-08</span><span class="muted">评论(25)</span></a></li>
		<li><a target="_blank" href="http://www.hankcs.com/ml/k-nearest-neighbor-method.html"><span class="thumbnail"><img src="./conditional-random-field_files/6cbb8645jw1eoxj45stqqg20m80godki.gif" class="thumb" alt="k近邻法" title="k近邻法"></span><span class="text">k近邻法</span><span class="muted">2015-02-06</span><span class="muted">评论(11)</span></a></li>
		<li><a target="_blank" href="http://www.hankcs.com/ml/em-algorithm-and-its-generalization.html"><span class="thumbnail"><img src="./conditional-random-field_files/6cbb8645gw1f4b95mzejvj20p60t0qab.jpg" class="thumb" alt="EM算法及其推广" title="EM算法及其推广"></span><span class="text">EM算法及其推广</span><span class="muted">2016-05-30</span><span class="muted">评论(8)</span></a></li>
		<li><a target="_blank" href="http://www.hankcs.com/ml/understanding-the-convolution-in-deep-learning.html"><span class="thumbnail"><img src="./conditional-random-field_files/006Fmjmcly1fdwjpji6qtj30dw05d0t8.jpg" class="thumb" alt="理解深度学习中的卷积" title="理解深度学习中的卷积"></span><span class="text">理解深度学习中的卷积</span><span class="muted">2017-03-24</span><span class="muted">评论(8)</span></a></li>
		<li><a target="_blank" href="http://www.hankcs.com/ml/naive-bayesian-method.html"><span class="thumbnail"><img src="./conditional-random-field_files/6cbb8645jw1eozn0y3spcj20mn0h3q3a.jpg" class="thumb" alt="朴素贝叶斯法" title="朴素贝叶斯法"></span><span class="text">朴素贝叶斯法</span><span class="muted">2015-02-09</span><span class="muted">评论(8)</span></a></li>
</ul></div><div class="widget widget_ui_posts" style="top: 0px;"><h3>最新文章</h3><ul>		<li><a target="_blank" href="http://www.hankcs.com/ml/compile-and-install-tensorflow-from-source.html"><span class="thumbnail"><img src="./conditional-random-field_files/6cbb8645gw1f9ty3e8d82j20ju0g6jsn.jpg" class="thumb" alt="从源码编译安装TensorFlow" title="从源码编译安装TensorFlow"></span><span class="text">从源码编译安装TensorFlow</span><span class="muted">2017-06-26</span><span class="muted">评论(0)</span></a></li>
		<li><a target="_blank" href="http://www.hankcs.com/ml/hinton-recent-applications-of-deep-neural-nets.html"><span class="thumbnail"><img src="./conditional-random-field_files/006Fmjmcly1fga3c5iit4j30n40hg0tw.jpg" class="thumb" alt="Hinton神经网络公开课16 Recent applications of deep neural nets" title="Hinton神经网络公开课16 Recent applications of deep neural nets"></span><span class="text">Hinton神经网络公开课16 Recent applications of deep neural nets</span><span class="muted">2017-06-05</span><span class="muted">评论(0)</span></a></li>
		<li><a target="_blank" href="http://www.hankcs.com/ml/hinton-modeling-hierarchical-structure-with-neural-nets.html"><span class="thumbnail"><img src="./conditional-random-field_files/006Fmjmcly1fg9g1g542jj30z60n07t8.jpg" class="thumb" alt="Hinton神经网络公开课15 Modeling hierarchical structure with neural nets" title="Hinton神经网络公开课15 Modeling hierarchical structure with neural nets"></span><span class="text">Hinton神经网络公开课15 Modeling hierarchical structure with neural nets</span><span class="muted">2017-06-04</span><span class="muted">评论(0)</span></a></li>
		<li><a target="_blank" href="http://www.hankcs.com/ml/nnml-rbm.html"><span class="thumbnail"><img src="./conditional-random-field_files/006Fmjmcly1fg8ao6kthsj31kw11x48q.jpg" class="thumb" alt="Hinton神经网络公开课编程练习4 Restricted Boltzmann Machines" title="Hinton神经网络公开课编程练习4 Restricted Boltzmann Machines"></span><span class="text">Hinton神经网络公开课编程练习4 Restricted Boltzmann Machines</span><span class="muted">2017-06-03</span><span class="muted">评论(0)</span></a></li>
		<li><a target="_blank" href="http://www.hankcs.com/ml/hinton-deep-neural-nets-with-generative-pre-training.html"><span class="thumbnail"><img src="./conditional-random-field_files/006Fmjmcly1fg61rho89qj30p00e6gsm.jpg" class="thumb" alt="Hinton神经网络公开课14 Deep neural nets with generative pre-training" title="Hinton神经网络公开课14 Deep neural nets with generative pre-training"></span><span class="text">Hinton神经网络公开课14 Deep neural nets with generative pre-training</span><span class="muted">2017-06-02</span><span class="muted">评论(0)</span></a></li>
		<li><a target="_blank" href="http://www.hankcs.com/ml/hinton-stacking-rbms-to-make-deep-belief-nets.html"><span class="thumbnail"><img src="./conditional-random-field_files/006Fmjmcly1fg4sosou7jj30zk0aqac0.jpg" class="thumb" alt="Hinton神经网络公开课13 Stacking RBMs to make Deep Belief Nets" title="Hinton神经网络公开课13 Stacking RBMs to make Deep Belief Nets"></span><span class="text">Hinton神经网络公开课13 Stacking RBMs to make Deep Belief Nets</span><span class="muted">2017-05-31</span><span class="muted">评论(0)</span></a></li>
</ul></div><div class="widget widget_text"><h3>订阅关注</h3>			<div class="textwidget"><iframe width="100%" height="400" class="share_self" frameborder="0" scrolling="no" src="./conditional-random-field_files/index.html"></iframe></div>
		</div><div class="widget widget_ui_tags" style="top: 0px;"><h3>热门标签</h3><div class="d_tags"><a href="http://www.hankcs.com/tag/%e3%80%8a%e6%8c%91%e6%88%98%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%e7%ab%9e%e8%b5%9b%e7%ac%ac2%e7%89%88%e3%80%8b/">《挑战程序设计竞赛(第2版)》 (184)</a><a href="http://www.hankcs.com/tag/%e3%80%8a%e6%97%a5%e8%af%ad%e7%bb%bc%e5%90%88%e6%95%99%e7%a8%8b%e3%80%8b/">《日语综合教程》 (57)</a><a href="http://www.hankcs.com/tag/%e3%80%8a%e6%96%b0%e7%bc%96%e6%97%a5%e8%af%ad%e9%98%85%e8%af%bb%e6%96%87%e9%80%89%e3%80%8b/">《新编日语阅读文选》 (34)</a><a href="http://www.hankcs.com/tag/cs224n/">CS224n (23)</a><a href="http://www.hankcs.com/tag/%e3%80%8a%e6%99%ba%e8%83%bdweb%e7%ae%97%e6%b3%95%e3%80%8b/">《智能Web算法》 (20)</a><a href="http://www.hankcs.com/tag/neural-networks-for-machine-learning/">Neural Networks for Machine Learning (19)</a><a href="http://www.hankcs.com/tag/%e4%b8%ad%e6%96%87%e5%88%86%e8%af%8d/">中文分词 (18)</a><a href="http://www.hankcs.com/tag/wordpress/">WordPress (17)</a><a href="http://www.hankcs.com/tag/%e6%b7%b1%e5%ba%a6%e5%ad%a6%e4%b9%a0/">深度学习 (16)</a><a href="http://www.hankcs.com/tag/lucene/">Lucene (15)</a><a href="http://www.hankcs.com/tag/%e7%bb%b4%e7%89%b9%e6%af%94%e7%ae%97%e6%b3%95/">维特比算法 (15)</a><a href="http://www.hankcs.com/tag/%e6%96%b0%e7%bc%96%e6%97%a5%e8%af%ad%e5%95%86%e5%8a%a1%e8%b4%b8%e6%98%93%e4%bc%9a%e8%af%9d/">新编日语商务贸易会话 (14)</a><a href="http://www.hankcs.com/tag/intellij-idea/">IntelliJ IDEA (13)</a><a href="http://www.hankcs.com/tag/%e3%80%8a%e7%bb%9f%e8%ae%a1%e5%ad%a6%e4%b9%a0%e6%96%b9%e6%b3%95%e3%80%8b/">《统计学习方法》 (12)</a><a href="http://www.hankcs.com/tag/uva/">UVa (11)</a><a href="http://www.hankcs.com/tag/drupal7%e4%b8%93%e4%b8%9a%e5%bc%80%e5%8f%91%e6%8c%87%e5%8d%97-%e7%ac%ac%e4%b8%89%e7%89%88/">Drupal7专业开发指南 第三版 (10)</a><a href="http://www.hankcs.com/tag/%e3%80%8a%e6%8c%91%e6%88%98%e7%bc%96%e7%a8%8b-%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%e7%ab%9e%e8%b5%9b%e8%ae%ad%e7%bb%83%e6%89%8b%e5%86%8c%e3%80%8b/">《挑战编程-程序设计竞赛训练手册》 (10)</a><a href="http://www.hankcs.com/tag/hmm/">HMM (10)</a><a href="http://www.hankcs.com/tag/matlab/">matlab (9)</a><a href="http://www.hankcs.com/tag/cs229/">CS229 (8)</a><a href="http://www.hankcs.com/tag/tensorflow/">TensorFlow (8)</a><a href="http://www.hankcs.com/tag/word2vec/">word2vec (8)</a><a href="http://www.hankcs.com/tag/google-code-jam/">Google code jam (7)</a><a href="http://www.hankcs.com/tag/%e3%80%8ac%e6%a0%87%e5%87%86%e7%a8%8b%e5%ba%8f%e5%ba%93-%e8%87%aa%e4%bf%ae%e6%95%99%e7%a8%8b%e4%b8%8e%e5%8f%82%e8%80%83%e6%89%8b%e5%86%8c%e3%80%8b/">《C++标准程序库—自修教程与参考手册》 (7)</a><a href="http://www.hankcs.com/tag/crf/">CRF (7)</a><a href="http://www.hankcs.com/tag/yii/">Yii (6)</a><a href="http://www.hankcs.com/tag/webrtc/">WebRTC (5)</a><a href="http://www.hankcs.com/tag/cocos2d-x/">Cocos2d-x (5)</a><a href="http://www.hankcs.com/tag/cnn/">CNN (5)</a><a href="http://www.hankcs.com/tag/android/">Android (4)</a></div></div></aside></section>

<div class="branding branding-black">
	<div class="container">
		<h2>我的开源项目</h2>
		<a target="blank" class="btn btn-lg" href="https://github.com/hankcs/HanLP">HanLP自然语言处理包</a><a target="blank" class="btn btn-lg" href="https://github.com/hankcs/AhoCorasickDoubleArrayTrie">基于DoubleArrayTrie的Aho Corasick自动机</a>	</div>
</div>
<footer class="footer">
	<div class="container">
		<div class="fcode">
					</div>
		<p>© 2017 <a href="http://www.hankcs.com/">码农场</a> &nbsp; <a href="http://www.hankcs.com/sitemap.xml">网站地图</a> &nbsp; <a href="http://www.miitbeian.gov.cn/" target="_blank">沪ICP备14002007号-1</a></p>
		<div style="display:none">
<script language="javascript" type="text/javascript" src="./conditional-random-field_files/trace.js.下载"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47205472-1', 'auto');
  ga('send', 'pageview');

</script>
<script language="javascript" type="text/javascript" src="./conditional-random-field_files/15590612.js.下载"></script><a href="http://www.51.la/?15590612" target="_blank" title="51.La 网站流量统计系统"><img alt="51.La 网站流量统计系统" src="./conditional-random-field_files/icon_2.gif" style="border:none"></a>

<noscript>&lt;a href="//www.51.la/?15590612" target="_blank"&gt;&lt;img alt="&amp;#x6211;&amp;#x8981;&amp;#x5566;&amp;#x514D;&amp;#x8D39;&amp;#x7EDF;&amp;#x8BA1;" src="//img.users.51.la/15590612.asp" style="border:none" /&gt;&lt;/a&gt;</noscript>
</div>	</div>
</footer>

<script>
window.jsui={
    www: 'http://www.hankcs.com',
    uri: 'http://www.hankcs.com/wp-content/themes/dux',
    ver: '1.3',
	roll: ["1","2","6","4"],
    ajaxpager: '500',
    url_rp: 'http://www.hankcs.com/about/'
};
</script>
<script type="text/javascript" src="./conditional-random-field_files/form.js.下载"></script>
<script type="text/javascript" src="./conditional-random-field_files/bootstrap.min.js.下载"></script>
<script type="text/javascript" src="./conditional-random-field_files/loader.js.下载"></script>
<script type="text/javascript" src="./conditional-random-field_files/wp-embed.min.js.下载"></script>

    <div class="m-mask"></div>    <div class="rollbar" style="display: none;"><ul><li><a href="javascript:(scrollTo());"><i class="fa fa-angle-up"></i></a><h6>去顶部<i></i></h6></li><li><a href="javascript:(on_click_toc_button());"><i class="fa fa-list post_open_icon"></i></a><h6 id="toc_label">打开目录<i></i></h6></li><li><a href="javascript:(scrollTo(&#39;#comments&#39;,-15));"><i class="fa fa-comments"></i></a><h6>去评论<i></i></h6></li></ul></div><ul class="m-navbar">
			<li id="menu-item-1834" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1834"><a href="http://www.hankcs.com/program/cpp/">C++</a></li>
<li id="menu-item-1835" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1835"><a href="http://www.hankcs.com/program/java/">Java</a></li>
<li id="menu-item-5754" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-5754"><a href="http://www.hankcs.com/ml/">机器学习</a></li>
<li id="menu-item-2954" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2954"><a href="http://www.hankcs.com/nlp/">NLP</a>
<ul class="sub-menu">
	<li id="menu-item-4344" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4344"><a href="http://www.hankcs.com/nlp/corpus/">语料库</a></li>
	<li id="menu-item-4342" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4342"><a href="http://www.hankcs.com/nlp/segment/">中文分词</a></li>
	<li id="menu-item-4343" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4343"><a href="http://www.hankcs.com/nlp/ner/">命名实体识别</a></li>
	<li id="menu-item-4479" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4479"><a href="http://www.hankcs.com/nlp/parsing/">句法分析</a></li>
</ul>
</li>
<li id="menu-item-1837" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1837"><a href="http://www.hankcs.com/program/algorithm/">算法</a></li>
<li id="menu-item-1839" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1839"><a href="http://www.hankcs.com/software/">软件</a></li>
<li id="menu-item-1838" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1838"><a href="http://www.hankcs.com/nihongonote/">日语</a>
<ul class="sub-menu">
	<li id="menu-item-1860" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1860"><a href="http://www.hankcs.com/nihongonote/riyurimen/">日语入门</a></li>
	<li id="menu-item-1861" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1861"><a href="http://www.hankcs.com/nihongonote/listening/">日语听力</a></li>
	<li id="menu-item-1863" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1863"><a href="http://www.hankcs.com/nihongonote/tekusuto/">日语综合教程</a>
	<ul class="sub-menu">
		<li id="menu-item-2190" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2190"><a href="http://www.hankcs.com/nihongonote/tekusuto/disance/">第三册</a></li>
		<li id="menu-item-2192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2192"><a href="http://www.hankcs.com/nihongonote/tekusuto/daiyonnsatu/">第四册</a></li>
		<li id="menu-item-2191" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2191"><a href="http://www.hankcs.com/nihongonote/tekusuto/5/">第五册</a></li>
		<li id="menu-item-2702" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2702"><a href="http://www.hankcs.com/nihongonote/tekusuto/%e7%ac%ac%e5%85%ad%e5%86%8c/">第六册</a></li>
		<li id="menu-item-3604" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3604"><a href="http://www.hankcs.com/nihongonote/tekusuto/%e7%ac%ac%e4%b8%83%e5%86%8c/">第七册</a></li>
	</ul>
</li>
	<li id="menu-item-1859" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1859"><a href="http://www.hankcs.com/nihongonote/fd2/">新编日语阅读文选</a>
	<ul class="sub-menu">
		<li id="menu-item-2187" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2187"><a href="http://www.hankcs.com/nihongonote/fd2/c1/">第一册</a></li>
		<li id="menu-item-2189" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2189"><a href="http://www.hankcs.com/nihongonote/fd2/c2/">第二册</a></li>
		<li id="menu-item-2188" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2188"><a href="http://www.hankcs.com/nihongonote/fd2/c3/">第三册</a></li>
	</ul>
</li>
	<li id="menu-item-1858" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1858"><a href="http://www.hankcs.com/nihongonote/jpkaiwa/">日语商务贸易会话</a></li>
</ul>
</li>
<li id="menu-item-1843" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1843"><a href="http://www.hankcs.com/about/">关于</a></li>
							<li class="navto-search"><a href="javascript:;" class="search-show active"><i class="fa fa-search"></i></a></li>
					</ul>			<div class="sign">			    <div class="sign-mask"></div>			    <div class="container">			        <a href="http://www.hankcs.com/ml/conditional-random-field.html#" class="close-link signclose-loader"><i class="fa fa-close"></i></a>			        <div class="sign-tips"></div>			        <form id="sign-in">  			            <h3><small class="signup-loader">切换注册</small>登录</h3>			            <h6>			                <label for="inputEmail">用户名或邮箱</label>			                <input type="text" name="username" class="form-control" id="inputEmail" placeholder="用户名或邮箱">			            </h6>			            <h6>			                <label for="inputPassword">密码</label>			                <input type="password" name="password" class="form-control" id="inputPassword" placeholder="登录密码">			            </h6>			            <div class="sign-submit">			                <input type="button" class="btn btn-primary signsubmit-loader" name="submit" value="登录">  			                <input type="hidden" name="action" value="signin">			                <label><input type="checkbox" checked="checked" name="remember" value="forever">记住我</label>			            </div><div class="sign-info"><a href="http://www.hankcs.com/about/">找回密码？</a></div></form>			        <form id="sign-up"> 			            <h3><small class="signin-loader">切换登录</small>注册</h3>			            <h6>			                <label for="inputName">昵称</label>			                <input type="text" name="name" class="form-control" id="inputName" placeholder="设置昵称">			            </h6>			            <h6>			                <label for="inputEmail">邮箱</label>			                <input type="email" name="email" class="form-control" id="inputEmail" placeholder="邮箱">			            </h6>			            <div class="sign-submit">			                <input type="button" class="btn btn-primary btn-block signsubmit-loader" name="submit" value="快速注册">  			                <input type="hidden" name="action" value="signup">  			            </div>			        </form>			    </div>			</div>		</body></html>